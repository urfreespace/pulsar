"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[42907],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=r.createContext({}),l=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),h=l(n),d=i,f=h["".concat(u,".").concat(d)]||h[d]||p[d]||a;return n?r.createElement(f,o(o({ref:t},c),{},{components:n})):r.createElement(f,o({ref:t},c))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=h;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var l=2;l<a;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},58215:function(e,t,n){var r=n(67294);t.Z=function(e){var t=e.children,n=e.hidden,i=e.className;return r.createElement("div",{role:"tabpanel",hidden:n,className:i},t)}},26396:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(87462),i=n(67294),a=n(72389),o=n(79443);var s=function(){var e=(0,i.useContext)(o.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},u=n(89521),l=n(86010),c="tabItem_vU9c";function p(e){var t,n,r,a=e.lazy,o=e.block,p=e.defaultValue,h=e.values,d=e.groupId,f=e.className,v=i.Children.map(e.children,(function(e){if((0,i.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),m=null!=h?h:v.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),b=(0,u.lx)(m,(function(e,t){return e.value===t.value}));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var y=null===p?p:null!=(t=null!=p?p:null==(n=v.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(r=v[0])?void 0:r.props.value;if(null!==y&&!m.some((function(e){return e.value===y})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+y+'" but none of its children has the corresponding value. Available values are: '+m.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var k=s(),g=k.tabGroupChoices,w=k.setTabGroupChoices,P=(0,i.useState)(y),N=P[0],O=P[1],x=[],T=(0,u.o5)().blockElementScrollPositionUntilNextRender;if(null!=d){var C=g[d];null!=C&&C!==N&&m.some((function(e){return e.value===C}))&&O(C)}var E=function(e){var t=e.currentTarget,n=x.indexOf(t),r=m[n].value;r!==N&&(T(t),O(r),null!=d&&w(d,r))},A=function(e){var t,n=null;switch(e.key){case"ArrowRight":var r=x.indexOf(e.currentTarget)+1;n=x[r]||x[0];break;case"ArrowLeft":var i=x.indexOf(e.currentTarget)-1;n=x[i]||x[x.length-1]}null==(t=n)||t.focus()};return i.createElement("div",{className:"tabs-container"},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":o},f)},m.map((function(e){var t=e.value,n=e.label;return i.createElement("li",{role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,className:(0,l.Z)("tabs__item",c,{"tabs__item--active":N===t}),key:t,ref:function(e){return x.push(e)},onKeyDown:A,onFocus:E,onClick:E},null!=n?n:t)}))),a?(0,i.cloneElement)(v.filter((function(e){return e.props.value===N}))[0],{className:"margin-vert--md"}):i.createElement("div",{className:"margin-vert--md"},v.map((function(e,t){return(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==N})}))))}function h(e){var t=(0,a.Z)();return i.createElement(p,(0,r.Z)({key:String(t)},e))}},79443:function(e,t,n){var r=(0,n(67294).createContext)(void 0);t.Z=r},40501:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return u},metadata:function(){return l},toc:function(){return c},default:function(){return h}});var r=n(87462),i=n(63366),a=(n(67294),n(3905)),o=(n(26396),n(58215),["components"]),s={id:"security-overview",title:"Pulsar security overview",sidebar_label:"Overview",original_id:"security-overview"},u=void 0,l={unversionedId:"security-overview",id:"version-2.7.0/security-overview",isDocsHomePage:!1,title:"Pulsar security overview",description:"As the central message bus for a business, Apache Pulsar is frequently used for storing mission-critical data. Therefore, enabling security features in Pulsar is crucial.",source:"@site/versioned_docs/version-2.7.0/security-overview.md",sourceDirName:".",slug:"/security-overview",permalink:"/docs/2.7.0/security-overview",editUrl:"https://github.com/apache/pulsar/edit/master/site2/website-next/versioned_docs/version-2.7.0/security-overview.md",tags:[],version:"2.7.0",frontMatter:{id:"security-overview",title:"Pulsar security overview",sidebar_label:"Overview",original_id:"security-overview"},sidebar:"version-2.7.0/docsSidebar",previous:{title:"Upgrade",permalink:"/docs/2.7.0/administration-upgrade"},next:{title:"Transport Encryption using TLS",permalink:"/docs/2.7.0/security-tls-transport"}},c=[{value:"Role tokens",id:"role-tokens",children:[],level:2},{value:"Authentication providers",id:"authentication-providers",children:[],level:2}],p={toc:c};function h(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"As the central message bus for a business, Apache Pulsar is frequently used for storing mission-critical data. Therefore, enabling security features in Pulsar is crucial."),(0,a.kt)("p",null,"By default, Pulsar configures no encryption, authentication, or authorization. Any client can communicate to Apache Pulsar via plain text service URLs. So we must ensure that Pulsar accessing via these plain text service URLs is restricted to trusted clients only. In such cases, you can use Network segmentation and/or authorization ACLs to restrict access to trusted IPs. If you use neither, the state of cluster is wide open and anyone can access the cluster."),(0,a.kt)("p",null,"Pulsar supports a pluggable authentication mechanism. And Pulsar clients use this mechanism to authenticate with brokers and proxies. You can also configure Pulsar to support multiple authentication sources."),(0,a.kt)("p",null,'The Pulsar broker validates the authentication credentials when a connection is established. After the initial connection is authenticated, the "principal" token is stored for authorization though the connection is not re-authenticated. The broker periodically checks the expiration status of every ',(0,a.kt)("inlineCode",{parentName:"p"},"ServerCnx")," object. You can set the ",(0,a.kt)("inlineCode",{parentName:"p"},"authenticationRefreshCheckSeconds")," on the broker to control the frequency to check the expiration status. By default, the ",(0,a.kt)("inlineCode",{parentName:"p"},"authenticationRefreshCheckSeconds")," is set to 60s. When the authentication is expired, the broker forces to re-authenticate the connection. If the re-authentication fails, the broker disconnects the client."),(0,a.kt)("p",null,"The broker supports learning whether a particular client supports authentication refreshing. If a client supports authentication refreshing and the credential is expired, the authentication provider calls the ",(0,a.kt)("inlineCode",{parentName:"p"},"refreshAuthentication")," method to initiate the refreshing process. If a client does not support authentication refreshing and the credential is expired, the broker disconnects the client."),(0,a.kt)("p",null,"You had better secure the service components in your Apache Pulsar deployment."),(0,a.kt)("h2",{id:"role-tokens"},"Role tokens"),(0,a.kt)("p",null,"In Pulsar, a ",(0,a.kt)("em",{parentName:"p"},"role")," is a string, like ",(0,a.kt)("inlineCode",{parentName:"p"},"admin")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"app1"),", which can represent a single client or multiple clients. You can use roles to control permission for clients to produce or consume from certain topics, administer the configuration for tenants, and so on."),(0,a.kt)("p",null,"Apache Pulsar uses a ",(0,a.kt)("a",{parentName:"p",href:"#authentication-providers"},"Authentication Provider")," to establish the identity of a client and then assign a ",(0,a.kt)("em",{parentName:"p"},"role token")," to that client. This role token is then used for ",(0,a.kt)("a",{parentName:"p",href:"security-authorization"},"Authorization and ACLs")," to determine what the client is authorized to do."),(0,a.kt)("h2",{id:"authentication-providers"},"Authentication providers"),(0,a.kt)("p",null,"Currently Pulsar supports the following authentication providers:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"security-tls-authentication"},"TLS Authentication")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"security-athenz"},"Athenz")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"security-kerberos"},"Kerberos")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"security-jwt"},"JSON Web Token Authentication"))))}h.isMDXComponent=!0}}]);