<!doctype html>
<html class="docs-version-2.4.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Pulsar RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Pulsar Atom Feed"><title data-react-helmet="true">Deploying a cluster on bare metal | Apache Pulsar</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://pulsar.apache.com/docs/2.4.0/deploy-bare-metal"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.4.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.4.0"><meta data-react-helmet="true" property="og:title" content="Deploying a cluster on bare metal | Apache Pulsar"><meta data-react-helmet="true" name="description" content="1. Single-cluster Pulsar installations should be sufficient for all but the most ambitious use cases. If you&#x27;re interested in experimenting with"><meta data-react-helmet="true" property="og:description" content="1. Single-cluster Pulsar installations should be sufficient for all but the most ambitious use cases. If you&#x27;re interested in experimenting with"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pulsar.apache.com/docs/2.4.0/deploy-bare-metal"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/docs/2.4.0/deploy-bare-metal" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/docs/2.4.0/deploy-bare-metal" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f75c5a00.css">
<link rel="preload" href="/assets/js/runtime~main.f92a773e.js" as="script">
<link rel="preload" href="/assets/js/main.343abb0d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.4.0/">Docs</a><a class="navbar__item navbar__link" href="/versions">Versions</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/apache/pulsar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/docs">Version</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/">2.8.0</a></li><li><a class="dropdown__link" href="/docs/2.7.3/">2.7.3</a></li><li><a class="dropdown__link" href="/docs/2.7.2/">2.7.2</a></li><li><a class="dropdown__link" href="/docs/2.7.1/">2.7.1</a></li><li><a class="dropdown__link" href="/docs/2.7.0/">2.7.0</a></li><li><a class="dropdown__link" href="/docs/2.6.4/">2.6.4</a></li><li><a class="dropdown__link" href="/docs/2.6.3/">2.6.3</a></li><li><a class="dropdown__link" href="/docs/2.6.2/">2.6.2</a></li><li><a class="dropdown__link" href="/docs/2.6.1/">2.6.1</a></li><li><a class="dropdown__link" href="/docs/2.6.0/">2.6.0</a></li><li><a class="dropdown__link" href="/docs/2.5.2/">2.5.2</a></li><li><a class="dropdown__link" href="/docs/2.5.1/">2.5.1</a></li><li><a class="dropdown__link" href="/docs/2.5.0/">2.5.0</a></li><li><a class="dropdown__link" href="/docs/2.4.2/">2.4.2</a></li><li><a class="dropdown__link" href="/docs/2.4.1/">2.4.1</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2.4.0/">2.4.0</a></li><li><a class="dropdown__link" href="/docs/2.2.0/">2.2.0</a></li></ul></div><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Get Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts and Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar Functions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar IO</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar SQL</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Deployment</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.4.0/deploy-aws">Amazon Web Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.4.0/deploy-kubernetes">Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/2.4.0/deploy-bare-metal">Bare metal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.4.0/deploy-bare-metal-multi-cluster">Bare metal multi-cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.4.0/deploy-dcos">DC/OS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.4.0/deploy-monitoring">Monitor</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Administration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Client Libraries</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Admin API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Adaptors</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cookbooks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Apache Pulsar<!-- --> <b>2.4.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/deploy-bare-metal">latest version</a></b> (<!-- -->2.8.0<!-- -->).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->2.4.0</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploying a cluster on bare metal</h1></header><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><ol><li>Single-cluster Pulsar installations should be sufficient for all but the most ambitious use cases. If you&#x27;re interested in experimenting with
Pulsar or using it in a startup or on a single team, we recommend opting for a single cluster. If you do need to run a multi-cluster Pulsar instance,
however, see the guide <a href="/docs/2.4.0/deploy-bare-metal-multi-cluster">here</a>.</li><li>If you want to use all builtin <a href="/docs/2.4.0/io-overview">Pulsar IO</a> connectors in your Pulsar deployment, you need to download <code>apache-pulsar-io-connectors</code>
package and make sure it is installed under <code>connectors</code> directory in the pulsar directory on every broker node or on every function-worker node if you
have run a separate cluster of function workers for <a href="/docs/2.4.0/functions-overview">Pulsar Functions</a>.</li><li>If you want to use <a href="/docs/2.4.0/concepts-tiered-storage">Tiered Storage</a> feature in your Pulsar deployment, you need to download <code>apache-pulsar-offloaders</code>
package and make sure it is installed under <code>offloaders</code> directory in the pulsar directory on every broker node. For more details of how to configure
this feature, you could reference this <a href="/docs/2.4.0/cookbooks-tiered-storage">Tiered storage cookbook</a>.</li></ol></div></div><p>Deploying a Pulsar cluster involves doing the following (in order):</p><ul><li>Deploying a <a href="#deploying-a-zookeeper-cluster">ZooKeeper</a> cluster (optional)</li><li>Initializing <a href="#initializing-cluster-metadata">cluster metadata</a></li><li>Deploying a <a href="#deploying-a-bookkeeper-cluster">BookKeeper</a> cluster</li><li>Deploying one or more Pulsar <a href="#deploying-pulsar-brokers">brokers</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="preparation">Preparation<a aria-hidden="true" class="hash-link" href="#preparation" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="requirements">Requirements<a aria-hidden="true" class="hash-link" href="#requirements" title="Direct link to heading">â€‹</a></h3><p>Currently, Pulsar is available for 64-bit <strong>macOS</strong>, <strong>Linux</strong>, and <strong>Windows</strong>. To use Pulsar, you need to install 64-bit JRE/JDK 8 or later versions.</p><blockquote><p>If you already have an existing ZooKeeper cluster and would like to reuse it, you don&#x27;t need to prepare the machines
for running ZooKeeper.</p></blockquote><p>To run Pulsar on bare metal, you are recommended to have:</p><ul><li>At least 6 Linux machines or VMs<ul><li>3 running <a href="https://zookeeper.apache.org" target="_blank" rel="noopener noreferrer">ZooKeeper</a></li><li>3 running a Pulsar broker, and a <a href="https://bookkeeper.apache.org" target="_blank" rel="noopener noreferrer">BookKeeper</a> bookie</li></ul></li><li>A single <a href="https://en.wikipedia.org/wiki/Domain_Name_System" target="_blank" rel="noopener noreferrer">DNS</a> name covering all of the Pulsar broker hosts</li></ul><blockquote><p>However if you don&#x27;t have enough machines, or are trying out Pulsar in cluster mode (and expand the cluster later),
you can even deploy Pulsar in one node, where it will run zookeeper, bookie and broker in same machine.</p></blockquote><blockquote><p>If you don&#x27;t have a DNS server, you can use multi-host in service URL instead.</p></blockquote><p>Each machine in your cluster will need to have <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener noreferrer">Java 8</a> or higher installed.</p><p>Here&#x27;s a diagram showing the basic setup:</p><p><img alt="alt-text" src="/assets/images/pulsar-basic-setup-18d39371fd6e67ded8a2d94f9ccfd7ec.png"></p><p>In this diagram, connecting clients need to be able to communicate with the Pulsar cluster using a single URL, in this case <code>pulsar-cluster.acme.com</code>, that abstracts over all of the message-handling brokers. Pulsar message brokers run on machines alongside BookKeeper bookies; brokers and bookies, in turn, rely on ZooKeeper.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="hardware-considerations">Hardware considerations<a aria-hidden="true" class="hash-link" href="#hardware-considerations" title="Direct link to heading">â€‹</a></h3><p>When deploying a Pulsar cluster, we have some basic recommendations that you should keep in mind when capacity planning.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="zookeeper">ZooKeeper<a aria-hidden="true" class="hash-link" href="#zookeeper" title="Direct link to heading">â€‹</a></h4><p>For machines running ZooKeeper, we recommend using lighter-weight machines or VMs. Pulsar uses ZooKeeper only for periodic coordination- and configuration-related tasks, <em>not</em> for basic operations. If you&#x27;re running Pulsar on <a href="https://aws.amazon.com/" target="_blank" rel="noopener noreferrer">Amazon Web Services</a> (AWS), for example, a <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/t2-instances.html" target="_blank" rel="noopener noreferrer">t2.small</a> instance would likely suffice.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="bookies--brokers">Bookies &amp; Brokers<a aria-hidden="true" class="hash-link" href="#bookies--brokers" title="Direct link to heading">â€‹</a></h4><p>For machines running a bookie and a Pulsar broker, we recommend using more powerful machines. For an AWS deployment, for example, <a href="https://aws.amazon.com/blogs/aws/now-available-i3-instances-for-demanding-io-intensive-applications/" target="_blank" rel="noopener noreferrer">i3.4xlarge</a> instances may be appropriate. On those machines we also recommend:</p><ul><li>Fast CPUs and 10Gbps <a href="https://en.wikipedia.org/wiki/Network_interface_controller" target="_blank" rel="noopener noreferrer">NIC</a> (for Pulsar brokers)</li><li>Small and fast <a href="https://en.wikipedia.org/wiki/Solid-state_drive" target="_blank" rel="noopener noreferrer">solid-state drives</a> (SSDs) or <a href="https://en.wikipedia.org/wiki/Hard_disk_drive" target="_blank" rel="noopener noreferrer">hard disk drives</a> (HDDs) with a <a href="https://en.wikipedia.org/wiki/RAID" target="_blank" rel="noopener noreferrer">RAID</a> controller and a battery-backed write cache (for BookKeeper bookies)</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="installing-the-pulsar-binary-package">Installing the Pulsar binary package<a aria-hidden="true" class="hash-link" href="#installing-the-pulsar-binary-package" title="Direct link to heading">â€‹</a></h2><blockquote><p>You&#x27;ll need to install the Pulsar binary package on <em>each machine in the cluster</em>, including machines running <a href="#deploying-a-zookeeper-cluster">ZooKeeper</a> and <a href="#deploying-a-bookkeeper-cluster">BookKeeper</a>.</p></blockquote><p>To get started deploying a Pulsar cluster on bare metal, you&#x27;ll need to download a binary tarball release in one of the following ways:</p><ul><li>By clicking on the link directly below, which will automatically trigger a download:<ul><li><a href="https://archive.apache.org/dist/pulsar/pulsar-2.4.0/apache-pulsar-2.4.0-bin.tar.gz" target="_blank" rel="noopener noreferrer" download="">Pulsar 2.4.0 binary release</a></li></ul></li><li>From the Pulsar <a href="/download">downloads page</a></li><li>From the Pulsar <a href="https://github.com/apache/pulsar/releases/latest" target="_blank" rel="noopener noreferrer">releases page</a> on <a href="https://github.com" target="_blank" rel="noopener noreferrer">GitHub</a></li><li>Using <a href="https://www.gnu.org/software/wget" target="_blank" rel="noopener noreferrer">wget</a>:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">wget</span><span class="token plain"> https://archive.apache.org/dist/pulsar/pulsar-2.4.0/apache-pulsar-2.4.0-bin.tar.gz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Once you&#x27;ve downloaded the tarball, untar it and <code>cd</code> into the resulting directory:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">tar</span><span class="token plain"> xvzf apache-pulsar-2.4.0-bin.tar.gz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> apache-pulsar-2.4.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The untarred directory contains the following subdirectories:</p><table><thead><tr><th align="left">Directory</th><th align="left">Contains</th></tr></thead><tbody><tr><td align="left"><code>bin</code></td><td align="left">Pulsar&#x27;s <a href="/docs/2.4.0/reference-cli-tools">command-line tools</a>, such as <a href="/docs/2.4.0/reference-cli-tools#pulsar"><code>pulsar</code></a> and <a href="/docs/2.4.0/reference-pulsar-admin"><code>pulsar-admin</code></a></td></tr><tr><td align="left"><code>conf</code></td><td align="left">Configuration files for Pulsar, including for <a href="/docs/2.4.0/reference-configuration#broker">broker configuration</a>, <a href="/docs/2.4.0/reference-configuration#zookeeper">ZooKeeper configuration</a>, and more</td></tr><tr><td align="left"><code>data</code></td><td align="left">The data storage directory used by ZooKeeper and BookKeeper.</td></tr><tr><td align="left"><code>lib</code></td><td align="left">The <a href="https://en.wikipedia.org/wiki/JAR_(file_format)" target="_blank" rel="noopener noreferrer">JAR</a> files used by Pulsar.</td></tr><tr><td align="left"><code>logs</code></td><td align="left">Logs created by the installation.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="installing-builtin-connectors-optional">Installing Builtin Connectors (optional)<a aria-hidden="true" class="hash-link" href="#installing-builtin-connectors-optional" title="Direct link to heading">â€‹</a></h2><blockquote><p>Since release <code>2.1.0-incubating</code>, Pulsar releases a separate binary distribution, containing all the <code>builtin</code> connectors.
If you would like to enable those <code>builtin</code> connectors, you can follow the instructions as below; otherwise you can
skip this section for now.</p></blockquote><p>To get started using builtin connectors, you&#x27;ll need to download the connectors tarball release on every broker node in
one of the following ways:</p><ul><li><p>by clicking the link below and downloading the release from an Apache mirror:</p><ul><li><a href="https://archive.apache.org/dist/pulsar/pulsar-2.4.0/connectors" target="_blank" rel="noopener noreferrer" download="">Pulsar IO Connectors 2.4.0 release</a></li></ul></li><li><p>from the Pulsar <a href="/download">downloads page</a></p></li><li><p>from the Pulsar <a href="https://github.com/apache/pulsar/releases/latest" target="_blank" rel="noopener noreferrer">releases page</a></p></li><li><p>using <a href="https://www.gnu.org/software/wget" target="_blank" rel="noopener noreferrer">wget</a>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">wget</span><span class="token plain"> https://archive.apache.org/dist/pulsar/pulsar-2.4.0/connectors/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">connector</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">-2.4.0.nar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><p>Once the nar file is downloaded, copy the file to directory <code>connectors</code> in the pulsar directory,
for example, if the connector file <code>pulsar-io-aerospike-2.4.0.nar</code> is downloaded:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> connectors</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">mv</span><span class="token plain"> pulsar-io-aerospike-2.4.0.nar connectors</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><span class="token plain"> connectors</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pulsar-io-aerospike-2.4.0.nar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="installing-tiered-storage-offloaders-optional">Installing Tiered Storage Offloaders (optional)<a aria-hidden="true" class="hash-link" href="#installing-tiered-storage-offloaders-optional" title="Direct link to heading">â€‹</a></h2><blockquote><p>Since release <code>2.2.0</code>, Pulsar releases a separate binary distribution, containing the tiered storage offloaders.
If you would like to enable tiered storage feature, you can follow the instructions as below; otherwise you can
skip this section for now.</p></blockquote><p>To get started using tiered storage offloaders, you&#x27;ll need to download the offloaders tarball release on every broker node in
one of the following ways:</p><ul><li><p>by clicking the link below and downloading the release from an Apache mirror:</p><ul><li><a href="https://archive.apache.org/dist/pulsar/pulsar-2.4.0/apache-pulsar-offloaders-2.4.0-bin.tar.gz" target="_blank" rel="noopener noreferrer" download="">Pulsar Tiered Storage Offloaders 2.4.0 release</a></li></ul></li><li><p>from the Pulsar <a href="/download">downloads page</a></p></li><li><p>from the Pulsar <a href="https://github.com/apache/pulsar/releases/latest" target="_blank" rel="noopener noreferrer">releases page</a></p></li><li><p>using <a href="https://www.gnu.org/software/wget" target="_blank" rel="noopener noreferrer">wget</a>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">wget</span><span class="token plain"> https://archive.apache.org/dist/pulsar/pulsar-2.4.0/apache-pulsar-offloaders-2.4.0-bin.tar.gz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ul><p>Once the tarball is downloaded, in the pulsar directory, untar the offloaders package and copy the offloaders as <code>offloaders</code>
in the pulsar directory:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">tar</span><span class="token plain"> xvfz apache-pulsar-offloaders-2.4.0-bin.tar.gz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// you will </span><span class="token function" style="color:rgb(80, 250, 123)">find</span><span class="token plain"> a directory named </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">apache-pulsar-offloaders-2.4.0</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> the pulsar directory</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">then</span><span class="token plain"> copy the offloaders</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">mv</span><span class="token plain"> apache-pulsar-offloaders-2.4.0/offloaders offloaders</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><span class="token plain"> offloaders</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tiered-storage-jcloud-2.4.0.nar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>For more details of how to configure tiered storage feature, you could reference this <a href="/docs/2.4.0/cookbooks-tiered-storage">Tiered storage cookbook</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="deploying-a-zookeeper-cluster">Deploying a ZooKeeper cluster<a aria-hidden="true" class="hash-link" href="#deploying-a-zookeeper-cluster" title="Direct link to heading">â€‹</a></h2><blockquote><p>If you already have an existing zookeeper cluster and would like to use it, you can skip this section.</p></blockquote><p><a href="https://zookeeper.apache.org" target="_blank" rel="noopener noreferrer">ZooKeeper</a> manages a variety of essential coordination- and configuration-related tasks for Pulsar. To deploy a Pulsar cluster you&#x27;ll need to deploy ZooKeeper first (before all other components). We recommend deploying a 3-node ZooKeeper cluster. Pulsar does not make heavy use of ZooKeeper, so more lightweight machines or VMs should suffice for running ZooKeeper.</p><p>To begin, add all ZooKeeper servers to the configuration specified in <a href="/docs/2.4.0/reference-configuration#zookeeper"><code>conf/zookeeper.conf</code></a> (in the Pulsar directory you created <a href="#installing-the-pulsar-binary-package">above</a>). Here&#x27;s an example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">server.1=zk1.us-west.example.com:2888:3888</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">server.2=zk2.us-west.example.com:2888:3888</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">server.3=zk3.us-west.example.com:2888:3888</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>If you have only one machine to deploy Pulsar, you just need to add one server entry in the configuration file.</p></blockquote><p>On each host, you need to specify the ID of the node in each node&#x27;s <code>myid</code> file, which is in each server&#x27;s <code>data/zookeeper</code> folder by default (this can be changed via the <a href="/docs/2.4.0/reference-configuration#zookeeper-dataDir"><code>dataDir</code></a> parameter).</p><blockquote><p>See the <a href="https://zookeeper.apache.org/doc/r3.4.10/zookeeperAdmin.html#sc_zkMulitServerSetup" target="_blank" rel="noopener noreferrer">Multi-server setup guide</a> in the ZooKeeper documentation for detailed info on <code>myid</code> and more.</p></blockquote><p>On a ZooKeeper server at <code>zk1.us-west.example.com</code>, for example, you could set the <code>myid</code> value like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> -p data/zookeeper</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> data/zookeeper/myid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>On <code>zk2.us-west.example.com</code> the command would be <code>echo 2 &gt; data/zookeeper/myid</code> and so on.</p><p>Once each server has been added to the <code>zookeeper.conf</code> configuration and has the appropriate <code>myid</code> entry, you can start ZooKeeper on all hosts (in the background, using nohup) with the <a href="/docs/2.4.0/reference-cli-tools#pulsar-daemon"><code>pulsar-daemon</code></a> CLI tool:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/pulsar-daemon start zookeeper</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>If you are planning to deploy zookeeper with bookie on the same node, you
need to start zookeeper by using different stats port.</p></blockquote><p>Start zookeeper with <a href="/docs/2.4.0/reference-cli-tools#pulsar-daemon"><code>pulsar-daemon</code></a> CLI tool like:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_EXTRA_OPTS</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;-Dstats_server_port=8001&quot;</span><span class="token plain"> bin/pulsar-daemon start zookeeper</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="initializing-cluster-metadata">Initializing cluster metadata<a aria-hidden="true" class="hash-link" href="#initializing-cluster-metadata" title="Direct link to heading">â€‹</a></h2><p>Once you&#x27;ve deployed ZooKeeper for your cluster, there is some metadata that needs to be written to ZooKeeper for each cluster in your instance. It only needs to be written <strong>once</strong>.</p><p>You can initialize this metadata using the <a href="/docs/2.4.0/reference-cli-tools#pulsar-initialize-cluster-metadata"><code>initialize-cluster-metadata</code></a> command of the <a href="/docs/2.4.0/reference-cli-tools#pulsar"><code>pulsar</code></a> CLI tool. This command can be run on any machine in your ZooKeeper cluster. Here&#x27;s an example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/pulsar initialize-cluster-metadata </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --cluster pulsar-cluster-1 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --zookeeper zk1.us-west.example.com:2181 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --configuration-store zk1.us-west.example.com:2181 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --web-service-url http://pulsar.us-west.example.com:8080 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --web-service-url-tls https://pulsar.us-west.example.com:8443 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --broker-service-url pulsar://pulsar.us-west.example.com:6650 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --broker-service-url-tls pulsar+ssl://pulsar.us-west.example.com:6651</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>As you can see from the example above, the following needs to be specified:</p><table><thead><tr><th align="left">Flag</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>--cluster</code></td><td align="left">A name for the cluster</td></tr><tr><td align="left"><code>--zookeeper</code></td><td align="left">A &quot;local&quot; ZooKeeper connection string for the cluster. This connection string only needs to include <em>one</em> machine in the ZooKeeper cluster.</td></tr><tr><td align="left"><code>--configuration-store</code></td><td align="left">The configuration store connection string for the entire instance. As with the <code>--zookeeper</code> flag, this connection string only needs to include <em>one</em> machine in the ZooKeeper cluster.</td></tr><tr><td align="left"><code>--web-service-url</code></td><td align="left">The web service URL for the cluster, plus a port. This URL should be a standard DNS name. The default port is 8080 (we don&#x27;t recommend using a different port).</td></tr><tr><td align="left"><code>--web-service-url-tls</code></td><td align="left">If you&#x27;re using <a href="/docs/2.4.0/security-tls-transport">TLS</a>, you&#x27;ll also need to specify a TLS web service URL for the cluster. The default port is 8443 (we don&#x27;t recommend using a different port).</td></tr><tr><td align="left"><code>--broker-service-url</code></td><td align="left">A broker service URL enabling interaction with the brokers in the cluster. This URL should use the same DNS name as the web service URL but should use the <code>pulsar</code> scheme instead. The default port is 6650 (we don&#x27;t recommend using a different port).</td></tr><tr><td align="left"><code>--broker-service-url-tls</code></td><td align="left">If you&#x27;re using <a href="/docs/2.4.0/security-tls-transport">TLS</a>, you&#x27;ll also need to specify a TLS web service URL for the cluster as well as a TLS broker service URL for the brokers in the cluster. The default port is 6651 (we don&#x27;t recommend using a different port).</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="deploying-a-bookkeeper-cluster">Deploying a BookKeeper cluster<a aria-hidden="true" class="hash-link" href="#deploying-a-bookkeeper-cluster" title="Direct link to heading">â€‹</a></h2><p><a href="https://bookkeeper.apache.org" target="_blank" rel="noopener noreferrer">BookKeeper</a> handles all persistent data storage in Pulsar. You will need to deploy a cluster of BookKeeper bookies to use Pulsar. We recommend running a <strong>3-bookie BookKeeper cluster</strong>.</p><p>BookKeeper bookies can be configured using the <a href="/docs/2.4.0/reference-configuration#bookkeeper"><code>conf/bookkeeper.conf</code></a> configuration file. The most important step in configuring bookies for our purposes here is ensuring that the <a href="/docs/2.4.0/reference-configuration#bookkeeper-zkServers"><code>zkServers</code></a> is set to the connection string for the ZooKeeper cluster. Here&#x27;s an example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zkServers=zk1.us-west.example.com:2181,zk2.us-west.example.com:2181,zk3.us-west.example.com:2181</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Once you&#x27;ve appropriately modified the <code>zkServers</code> parameter, you can provide any other configuration modifications you need. You can find a full listing of the available BookKeeper configuration parameters <a href="/docs/2.4.0/reference-configuration#bookkeeper">here</a>, although we would recommend consulting the <a href="http://bookkeeper.apache.org/docs/latest/reference/config/" target="_blank" rel="noopener noreferrer">BookKeeper documentation</a> for a more in-depth guide.</p><p>Once you&#x27;ve applied the desired configuration in <code>conf/bookkeeper.conf</code>, you can start up a bookie on each of your BookKeeper hosts. You can start up each bookie either in the background, using <a href="https://en.wikipedia.org/wiki/Nohup" target="_blank" rel="noopener noreferrer">nohup</a>, or in the foreground.</p><p>To start the bookie in the background, use the <a href="/docs/2.4.0/reference-cli-tools#pulsar-daemon"><code>pulsar-daemon</code></a> CLI tool:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/pulsar-daemon start bookie</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>To start the bookie in the foreground:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/bookkeeper bookie</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can verify that a bookie is working properly by running the <code>bookiesanity</code> command for the <a href="/docs/2.4.0/reference-cli-tools#shell">BookKeeper shell</a> on it:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/bookkeeper shell bookiesanity</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This will create an ephemeral BookKeeper ledger on the local bookie, write a few entries, read them back, and finally delete the ledger.</p><p>After you have started all the bookies, you can use <code>simpletest</code> command for <a href="/docs/2.4.0/reference-cli-tools#shell">BookKeeper shell</a> on any bookie node, to
verify all the bookies in the cluster are up running.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/bookkeeper shell simpletest --ensemble </span><span class="token operator">&lt;</span><span class="token plain">num-bookies</span><span class="token operator">&gt;</span><span class="token plain"> --writeQuorum </span><span class="token operator">&lt;</span><span class="token plain">num-bookies</span><span class="token operator">&gt;</span><span class="token plain"> --ackQuorum </span><span class="token operator">&lt;</span><span class="token plain">num-bookies</span><span class="token operator">&gt;</span><span class="token plain"> --numEntries </span><span class="token operator">&lt;</span><span class="token plain">num-entries</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This command will create a <code>num-bookies</code> sized ledger on the cluster, write a few entries, and finally delete the ledger.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="deploying-pulsar-brokers">Deploying Pulsar brokers<a aria-hidden="true" class="hash-link" href="#deploying-pulsar-brokers" title="Direct link to heading">â€‹</a></h2><p>Pulsar brokers are the last thing you need to deploy in your Pulsar cluster. Brokers handle Pulsar messages and provide Pulsar&#x27;s administrative interface. We recommend running <strong>3 brokers</strong>, one for each machine that&#x27;s already running a BookKeeper bookie.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="configuring-brokers">Configuring Brokers<a aria-hidden="true" class="hash-link" href="#configuring-brokers" title="Direct link to heading">â€‹</a></h3><p>The most important element of broker configuration is ensuring that each broker is aware of the ZooKeeper cluster that you&#x27;ve deployed. Make sure that the <a href="/docs/2.4.0/reference-configuration#broker-zookeeperServers"><code>zookeeperServers</code></a> and <a href="/docs/2.4.0/reference-configuration#broker-configurationStoreServers"><code>configurationStoreServers</code></a> parameters. In this case, since we only have 1 cluster and no configuration store setup, the <code>configurationStoreServers</code> will point to the same <code>zookeeperServers</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zookeeperServers=zk1.us-west.example.com:2181,zk2.us-west.example.com:2181,zk3.us-west.example.com:2181</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">configurationStoreServers=zk1.us-west.example.com:2181,zk2.us-west.example.com:2181,zk3.us-west.example.com:2181</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You also need to specify the cluster name (matching the name that you provided when <a href="#initializing-cluster-metadata">initializing the cluster&#x27;s metadata</a>):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">clusterName=pulsar-cluster-1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In addition, you need to match the broker and web service ports provided when initializing the cluster&#x27;s metadata (especially when using a different port from default):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">brokerServicePort=6650</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">brokerServicePortTls=6651</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">webServicePort=8080</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">webServicePortTls=8443</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>If you deploy Pulsar in a one-node cluster, you should update the replication settings in <code>conf/broker.conf</code> to <code>1</code></p></blockquote><blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Number of bookies to use when creating a ledger</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">managedLedgerDefaultEnsembleSize=1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Number of copies to store for each message</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">managedLedgerDefaultWriteQuorum=1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Number of guaranteed copies (acks to wait before write is complete)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">managedLedgerDefaultAckQuorum=1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></blockquote><h3 class="anchor anchorWithStickyNavbar_y2LR" id="enabling-pulsar-functions-optional">Enabling Pulsar Functions (optional)<a aria-hidden="true" class="hash-link" href="#enabling-pulsar-functions-optional" title="Direct link to heading">â€‹</a></h3><p>If you want to enable <a href="/docs/2.4.0/functions-overview">Pulsar Functions</a>, you can follow the instructions as below:</p><ol><li><p>Edit <code>conf/broker.conf</code> to enable functions worker, by setting <code>functionsWorkerEnabled</code> to <code>true</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI conf"><pre tabindex="0" class="prism-code language-conf codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">functionsWorkerEnabled=true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>Edit <code>conf/functions_worker.yml</code> and set <code>pulsarFunctionsCluster</code> to the cluster name that you provided when <a href="#initializing-cluster-metadata">initializing the cluster&#x27;s metadata</a>. </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI conf"><pre tabindex="0" class="prism-code language-conf codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pulsarFunctionsCluster: pulsar-cluster-1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li></ol><p>If you would like to learn more options about deploying functions worker, please checkout <a href="/docs/2.4.0/functions-worker">Deploy and manage functions worker</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="starting-brokers">Starting Brokers<a aria-hidden="true" class="hash-link" href="#starting-brokers" title="Direct link to heading">â€‹</a></h3><p>You can then provide any other configuration changes that you&#x27;d like in the <a href="/docs/2.4.0/reference-configuration#broker"><code>conf/broker.conf</code></a> file. Once you&#x27;ve decided on a configuration, you can start up the brokers for your Pulsar cluster. Like ZooKeeper and BookKeeper, brokers can be started either in the foreground or in the background, using nohup.</p><p>You can start a broker in the foreground using the <a href="/docs/2.4.0/reference-cli-tools#pulsar-broker"><code>pulsar broker</code></a> command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/pulsar broker</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can start a broker in the background using the <a href="/docs/2.4.0/reference-cli-tools#pulsar-daemon"><code>pulsar-daemon</code></a> CLI tool:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/pulsar-daemon start broker</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Once you&#x27;ve successfully started up all the brokers you intend to use, your Pulsar cluster should be ready to go!</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="connecting-to-the-running-cluster">Connecting to the running cluster<a aria-hidden="true" class="hash-link" href="#connecting-to-the-running-cluster" title="Direct link to heading">â€‹</a></h2><p>Once your Pulsar cluster is up and running, you should be able to connect with it using Pulsar clients. One such client is the <a href="/docs/2.4.0/reference-cli-tools#pulsar-client"><code>pulsar-client</code></a> tool, which is included with the Pulsar binary package. The <code>pulsar-client</code> tool can publish messages to and consume messages from Pulsar topics and thus provides a simple way to make sure that your cluster is running properly.</p><p>To use the <code>pulsar-client</code> tool, first modify the client configuration file in <a href="/docs/2.4.0/reference-configuration#client"><code>conf/client.conf</code></a> in your binary package. You&#x27;ll need to change the values for <code>webServiceUrl</code> and <code>brokerServiceUrl</code>, substituting <code>localhost</code> (which is the default), with the DNS name that you&#x27;ve assigned to your broker/bookie hosts. Here&#x27;s an example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI properties"><pre tabindex="0" class="prism-code language-properties codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">webServiceUrl=http://us-west.example.com:8080/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">brokerServiceurl=pulsar://us-west.example.com:6650/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Once you&#x27;ve done that, you can publish a message to Pulsar topic:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/pulsar-client produce </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  persistent://public/default/test </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -n </span><span class="token number">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hello Pulsar&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>You may need to use a different cluster name in the topic if you specified a cluster name different from <code>pulsar-cluster-1</code>.</p></blockquote><p>This will publish a single message to the Pulsar topic. In addition, you can subscribe the Pulsar topic in a different terminal before publishing messages as below:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/pulsar-client consume </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  persistent://public/default/test </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -n </span><span class="token number">100</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -s </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;consumer-test&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -t </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Exclusive&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Once the message above has been successfully published to the topic, you should see it in the standard output:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">----- got message -----</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Hello Pulsar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="running-functions">Running Functions<a aria-hidden="true" class="hash-link" href="#running-functions" title="Direct link to heading">â€‹</a></h2><blockquote><p>If you have <a href="#enabling-pulsar-functions-optional">enabled</a> Pulsar Functions, you can also tryout pulsar functions now.</p></blockquote><p>Create a ExclamationFunction <code>exclamation</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/pulsar-admin functions create </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --jar examples/api-examples.jar </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --classname org.apache.pulsar.functions.api.examples.ExclamationFunction </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --inputs persistent://public/default/exclamation-input </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --output persistent://public/default/exclamation-output </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --tenant public </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --namespace default </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --name exclamation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Check if the function is running as expected by <a href="/docs/2.4.0/functions-deploying#triggering-pulsar-functions">triggering</a> the function.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bin/pulsar-admin functions trigger --name exclamation --trigger-value </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;hello world&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You will see output as below:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hello world</span><span class="token operator">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/pulsar/edit/master/site2/website-next/versioned_docs/version-2.4.0/deploy-bare-metal.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/2.4.0/deploy-kubernetes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Kubernetes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/2.4.0/deploy-bare-metal-multi-cluster"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Bare metal multi-cluster<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preparation" class="table-of-contents__link toc-highlight">Preparation</a><ul><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#hardware-considerations" class="table-of-contents__link toc-highlight">Hardware considerations</a></li></ul></li><li><a href="#installing-the-pulsar-binary-package" class="table-of-contents__link toc-highlight">Installing the Pulsar binary package</a></li><li><a href="#installing-builtin-connectors-optional" class="table-of-contents__link toc-highlight">Installing Builtin Connectors (optional)</a></li><li><a href="#installing-tiered-storage-offloaders-optional" class="table-of-contents__link toc-highlight">Installing Tiered Storage Offloaders (optional)</a></li><li><a href="#deploying-a-zookeeper-cluster" class="table-of-contents__link toc-highlight">Deploying a ZooKeeper cluster</a></li><li><a href="#initializing-cluster-metadata" class="table-of-contents__link toc-highlight">Initializing cluster metadata</a></li><li><a href="#deploying-a-bookkeeper-cluster" class="table-of-contents__link toc-highlight">Deploying a BookKeeper cluster</a></li><li><a href="#deploying-pulsar-brokers" class="table-of-contents__link toc-highlight">Deploying Pulsar brokers</a><ul><li><a href="#configuring-brokers" class="table-of-contents__link toc-highlight">Configuring Brokers</a></li><li><a href="#enabling-pulsar-functions-optional" class="table-of-contents__link toc-highlight">Enabling Pulsar Functions (optional)</a></li><li><a href="#starting-brokers" class="table-of-contents__link toc-highlight">Starting Brokers</a></li></ul></li><li><a href="#connecting-to-the-running-cluster" class="table-of-contents__link toc-highlight">Connecting to the running cluster</a></li><li><a href="#running-functions" class="table-of-contents__link toc-highlight">Running Functions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Inc.Copyright Â© 2021 The Apache Software Foundation. All Rights Reserved. Apache, Apache Pulsar and the Apache feather logo are trademarks of The Apache Software Foundation.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f92a773e.js"></script>
<script src="/assets/js/main.343abb0d.js"></script>
</body>
</html>