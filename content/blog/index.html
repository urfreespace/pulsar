<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Pulsar RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Pulsar Atom Feed"><title data-react-helmet="true">Blog | Apache Pulsar</title><meta data-react-helmet="true" property="og:title" content="Blog | Apache Pulsar"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="description" content="Blog"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" property="og:url" content="https://pulsar.apache.com/blog"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="blog_posts_list"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pulsar.apache.com/blog"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/blog" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/blog" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7e3a3d28.css">
<link rel="preload" href="/assets/js/runtime~main.64567627.js" as="script">
<link rel="preload" href="/assets/js/main.7befe8d6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="tailwind navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"></b></a><a class="font-bold underline mr-4 -ml-4" href="/versions/">2.9.1</a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/download">Download</a><a class="navbar__item navbar__link" href="/docs/client-libraries">Clients</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">REST APIs</a><ul class="dropdown__menu"><li><a href="/admin-rest-api?version=2.9.1&amp;apiversion=v2" rel="noopener noreferrer" class="dropdown__link"><span>Admin REST API</span></a></li><li><a href="/functions-rest-api?version=2.9.1&amp;apiversion=v3" rel="noopener noreferrer" class="dropdown__link"><span>Functions</span></a></li><li><a href="/source-rest-api?version=2.9.1&amp;apiversion=v3" rel="noopener noreferrer" class="dropdown__link"><span>Sources</span></a></li><li><a href="/sink-rest-api?version=2.9.1&amp;apiversion=v3" rel="noopener noreferrer" class="dropdown__link"><span>Sinks</span></a></li><li><a href="/packages-rest-api?version=2.9.1&amp;apiversion=v3" rel="noopener noreferrer" class="dropdown__link"><span>Packages</span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">CLI</a><ul class="dropdown__menu"><li><a href="/pulsar-admin-cli?version=2.9.1" rel="noopener noreferrer" class="dropdown__link"><span>Pulsar Admin</span></a></li><li><a href="/pulsar-client-cli?version=2.9.1" rel="noopener noreferrer" class="dropdown__link"><span>Pulsar Client</span></a></li><li><a href="/pulsar-perf-cli?version=2.9.1" rel="noopener noreferrer" class="dropdown__link"><span>Pulsar Perf</span></a></li><li><a href="/pulsar-cli?version=2.9.1" rel="noopener noreferrer" class="dropdown__link"><span>Pulsar</span></a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/contact">Contact</a></li><li><a class="dropdown__link" href="/contributing">Contributing</a></li><li><a class="dropdown__link" href="/coding-guide">Coding guide</a></li><li><a class="dropdown__link" href="/events">Events</a></li><li><a href="https://twitter.com/Apache_Pulsar" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://github.com/apache/pulsar/wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Wiki<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://github.com/apache/pulsar/issues" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Issue tracking<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://pulsar-summit.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Pulsar Summit<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a class="dropdown__link" href="/resources">Resources</a></li><li><a class="dropdown__link" href="/team">Team</a></li><li><a class="dropdown__link" href="/powered-by">Powered By</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Apache</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Foundation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>License<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Sponsorship<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Thanks<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://www.apache.org/security" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Security<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/apache/pulsar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_iQ2x toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-list-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">Recent posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/12/14/Apache-Pulsar-2-7-4">What’s New in Apache Pulsar 2.7.4</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/12/11/Log4j-CVE">Log4j2 Zero Day vulnerability (CVE-2021-44228)</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/09/23/Apache-Pulsar-2-8-1">Apache Pulsar 2.8.1</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/08/18/asia-cfp">Announcing Pulsar Summit Asia 2021: CFP Is Open!</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021/08/11/Apache-Pulsar-2-7-3">Apache Pulsar 2.7.3</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/12/14/Apache-Pulsar-2-7-4">What’s New in Apache Pulsar 2.7.4</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-12-14T00:00:00.000Z" itemprop="datePublished">December 14, 2021</time> · <!-- -->5 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a itemprop="url"><span itemprop="name">Technoboy-, Anonymitaet</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>The Apache Pulsar community releases version 2.7.4! 32 contributors provided improvements and bug fixes that delivered 98 commits.</p><p>Highlights of this release are as below:</p><ul><li><p>Upgrade Log4j to 2.17.0 - <a href="https://pulsar.apache.org/blog/2021/12/11/Log4j-CVE/" target="_blank" rel="noopener noreferrer">CVE-2021-45105</a>. <a href="https://github.com/apache/pulsar/pull/13392" target="_blank" rel="noopener noreferrer">PR-13392</a></p></li><li><p><code>ManagedLedger</code> can be referenced correctly when <code>OpAddEntry</code> is recycled. <a href="https://github.com/apache/pulsar/pull/12103" target="_blank" rel="noopener noreferrer">PR-12103</a></p></li><li><p>NPE does not occur on <code>OpAddEntry</code> while ManagedLedger is closing. <a href="https://github.com/apache/pulsar/pull/12364" target="_blank" rel="noopener noreferrer">PR-12364</a></p></li></ul><p>This blog walks through the most noteworthy changes grouped by the affected functionalities. For the complete list including all enhancements and bug fixes, check out the <a href="https://pulsar.apache.org/en/release-notes/#274" target="_blank" rel="noopener noreferrer">Pulsar 2.7.4 Release Notes</a>.</p><header><h1>Notable bug fixes and enhancements</h1></header><h3 class="anchor anchorWithStickyNavbar_y2LR" id="upgrade-log4j-to-2170---cve-2021-45105-pr-13392">Upgrade Log4j to 2.17.0 - <a href="https://pulsar.apache.org/blog/2021/12/11/Log4j-CVE/" target="_blank" rel="noopener noreferrer">CVE-2021-45105</a>. <a href="https://github.com/apache/pulsar/pull/13392" target="_blank" rel="noopener noreferrer">PR-13392</a><a class="hash-link" href="#upgrade-log4j-to-2170---cve-2021-45105-pr-13392" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>A serious vulnerability was reported regarding Log4j that can allow remote execution for attackers. The vulnerability issue is described and tracked under <a href="https://nvd.nist.gov/vuln/detail/CVE-2021-44228" target="_blank" rel="noopener noreferrer">CVE-2021-44228</a>.</p></li><li><p><strong>Resolution</strong></p><p>Pulsar 2.7.4 upgraded Log4j to 2.17.0.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="managedledger-can-be-referenced-correctly-when-opaddentry-is-recycled-pr-12103"><code>ManagedLedger</code> can be referenced correctly when <code>OpAddEntry</code> is recycled. <a href="https://github.com/apache/pulsar/pull/12103" target="_blank" rel="noopener noreferrer">PR-12103</a><a class="hash-link" href="#managedledger-can-be-referenced-correctly-when-opaddentry-is-recycled-pr-12103" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>Previously, after a write failure, a task was scheduled in the background to force close the ledger and trigger the creation of  a new ledger. If the <code>OpAddEntry</code> instance was already recycled, that could lead to either an NPE or undefined behavior.</p></li><li><p><strong>Resolution</strong></p><p>The <code>ManagedLedgerImpl</code> object reference is copied to a final variable so the background task will not be dependent on the lifecycle of the <code>OpAddEntry</code> instance.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="no-potential-race-condition-in-the-blobstorebackedreadhandler-pr-12123">No potential race condition in the <code>BlobStoreBackedReadHandler</code>. <a href="https://github.com/apache/pulsar/pull/12123" target="_blank" rel="noopener noreferrer">PR-12123</a><a class="hash-link" href="#no-potential-race-condition-in-the-blobstorebackedreadhandler-pr-12123" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>Previously, <code>BlobStoreBackedReadHandler</code> entered an infinite loop when reading an offload ledger. There was a race condition between the operation of reading entries and closing BlobStoreBackedReadHandler.</p></li><li><p><strong>Resolution</strong></p><p>Added a state check before reading entries and made the <code>BlobStoreBackedReadHandler</code> exit loop when the <code>entryID</code> is bigger than the <code>lastEntryID</code>.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="npe-does-not-occur-on-opaddentry-while-managedledger-is-closing-pr-12364">NPE does not occur on <code>OpAddEntry</code> while ManagedLedger is closing. <a href="https://github.com/apache/pulsar/pull/12364" target="_blank" rel="noopener noreferrer">PR-12364</a><a class="hash-link" href="#npe-does-not-occur-on-opaddentry-while-managedledger-is-closing-pr-12364" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong> </p><p>Previously, the test <code>ManagedLedgerBkTest#managedLedgerClosed</code> closed ManagedLedger object on some <code>asyncAddEntry</code> operations and failed with NPE.</p></li><li><p><strong>Resolution</strong></p><p>Closed <code>OpAddEntry</code>  when <code> ManagedLedger</code> signaled  <code>OpAddEntry</code> to fail. In this way, the <code>OpAddEntry</code> object was correctly recycled and the failed callback was correctly triggered.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="set-a-topic-policy-through-the-topic-name-of-a-partition-correctly-pr-11294">Set a topic policy through the topic name of a partition correctly. <a href="https://github.com/apache/pulsar/pull/11294" target="_blank" rel="noopener noreferrer">PR-11294</a><a class="hash-link" href="#set-a-topic-policy-through-the-topic-name-of-a-partition-correctly-pr-11294" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>Previously, the topic name of a partition could not be used to set a topic policy.</p></li><li><p><strong>Resolution</strong></p><p>Allowed setting a topic policy through a topic name of a partition by converting the topic name of a partition in <code>SystemTopicBasedTopicPoliciesService</code>.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="dispatch-rate-limiter-takes-effect-for-consumers-pr-8611">Dispatch rate limiter takes effect for consumers. <a href="https://github.com/apache/pulsar/pull/8611" target="_blank" rel="noopener noreferrer">PR-8611</a><a class="hash-link" href="#dispatch-rate-limiter-takes-effect-for-consumers-pr-8611" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>Previously, dispatch rate limiter did not take effect in cases where all consumers started reading in the next second since <code>acquiredPermits</code> was reset to 0 every second.</p></li><li><p><strong>Resolution</strong></p><p>Changed the behaviour of <code>DispatchRateLimiter</code> by minus <code>permits</code> every second instead of reset <code>acquiredPermits</code> to 0. Consumers stopped reading entries temporarily until <code>acquiredPermits</code> returned to a value less than <code>permits</code> .</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="npe-does-not-occur-when-executing-unload-bundles-operations-pr-11310">NPE does not occur when executing unload bundles operations. <a href="https://github.com/apache/pulsar/pull/11310" target="_blank" rel="noopener noreferrer">PR-11310</a><a class="hash-link" href="#npe-does-not-occur-when-executing-unload-bundles-operations-pr-11310" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>When performing pressure tests on persistent partitioned topics, NPE occurred when executing unload bundles operations. Concurrently, producers did not write messages.</p></li><li><p><strong>Resolution</strong></p><p>Added more safety checks to fix this issue.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fix-inconsistent-behavior-for-namespace-bundles-cache-pr-11346">Fix inconsistent behavior for Namespace bundles cache. <a href="https://github.com/apache/pulsar/pull/11346" target="_blank" rel="noopener noreferrer">PR-11346</a><a class="hash-link" href="#fix-inconsistent-behavior-for-namespace-bundles-cache-pr-11346" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>Previously, namespace bundle cache was not invalidated after a namespace was deleted.</p></li><li><p><strong>Resolution</strong></p><p>Invalidated namespace policy cache when bundle cache was invalidated.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="close-the-replicator-and-replication-client-after-a-cluster-is-deleted-pr-11342">Close the replicator and replication client after a cluster is deleted. <a href="https://github.com/apache/pulsar/pull/11342" target="_blank" rel="noopener noreferrer">PR-11342</a><a class="hash-link" href="#close-the-replicator-and-replication-client-after-a-cluster-is-deleted-pr-11342" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>Previously, the replicator and the replication client were not closed after a cluster was deleted. The producer of the replicator would then try to reconnect to the deleted cluster continuously.</p></li><li><p><strong>Resolution</strong></p><p>Closed the relative replicator and replication client.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="publish-rate-limiter-takes-effect-as-expected-pr-10384">Publish rate limiter takes effect as expected. <a href="https://github.com/apache/pulsar/pull/10384" target="_blank" rel="noopener noreferrer">PR-10384</a><a class="hash-link" href="#publish-rate-limiter-takes-effect-as-expected-pr-10384" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>Previously, there were various issues if <code>preciseTopicPublishRateLimiterEnable</code>  was set to <code>true</code> for rate limiting:</p><ul><li><p>Updating the limits did not set a boundary when changing the limits from a bounded limit to an unbounded limit.</p></li><li><p>Each topic created a scheduler thread for each limiter instance.</p></li><li><p>Topics did not release the scheduler thread when the topic was unloaded or the operation closed.</p></li><li><p>Updating the limits did not close the scheduler thread related to the replaced limiter instance</p></li></ul></li><li><p><strong>Resolution</strong></p><ul><li><p>Cleaned up the previous limiter instances before creating new limiter instances.</p></li><li><p>Used <code>brokerService.pulsar().getExecutor()</code> as the scheduler for the rate limiter instances.</p></li><li><p>Added resource cleanup hooks for topic closing (unload).</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="clean-up-newly-created--ledgers-if-fails-to-update-znode-list-pr-12015">Clean up newly created  ledgers if fails to update ZNode list. <a href="https://github.com/apache/pulsar/pull/12015" target="_blank" rel="noopener noreferrer">PR-12015</a><a class="hash-link" href="#clean-up-newly-created--ledgers-if-fails-to-update-znode-list-pr-12015" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong></p><p>When updating a ZNode list, ZooKeeper threw an exception and did not clean up the created ledger. Newly created ledgers were not  indexed to a topic <code>managedLedger</code> list and could not be cleared up as topic retention. Also, ZNode numbers increased in ZooKeeper if the ZNode version mismatch exception was thrown out.</p></li><li><p><strong>Resolution</strong></p><p>Deleted the created ledger from broker cache and BookKeeper regardless of exception type when the ZNode list failed to update.</p></li></ul><header><h1>What’s Next?</h1></header><p>If you are interested in learning more about Pulsar 2.7.4, you can <a href="https://pulsar.apache.org/en/versions/" target="_blank" rel="noopener noreferrer">download</a> and try it out now! </p><p>Pulsar Summit Asia 2021 will take place on January 15-16, 2022. <a href="https://pulsar-summit.org/" target="_blank" rel="noopener noreferrer">Register now</a> and help us make it an even bigger success by spreading the word on social media!</p><p>For more information about the Apache Pulsar project and current  progress, visit
the <a href="https://pulsar.apache.org" target="_blank" rel="noopener noreferrer">Pulsar website</a>, follow the project on Twitter <a href="https://twitter.com/apache_pulsar" target="_blank" rel="noopener noreferrer">@apache_pulsar</a>, and join <a href="https://apache-pulsar.herokuapp.com/" target="_blank" rel="noopener noreferrer">Pulsar Slack</a>!</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/12/11/Log4j-CVE">Log4j2 Zero Day vulnerability (CVE-2021-44228)</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-12-11T00:00:00.000Z" itemprop="datePublished">December 11, 2021</time> · <!-- -->2 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a itemprop="url"><span itemprop="name">Matteo Merli</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Yesterday, a new serious vulnerability was reported regarding Log4j that can
allow remote execution for attackers.</p><p>The vulnerability issue is described and tracked under <a href="https://nvd.nist.gov/vuln/detail/CVE-2021-44228" target="_blank" rel="noopener noreferrer">CVE-2021-44228</a>.</p><p>Current releases of Apache Pulsar are bundling Log4j2 versions that are affected by this vulnerability.
Default configuration, combined with JVM version and other factors, can render it exploitable.
We strongly recommend to follow the advisory of the Apache Log4j community and patch your systems
as soon as possible, as well as looking for unexpected behavior in your Pulsar logs.</p><p>There are 2 workarounds to patch a Pulsar deployments. You can set either of:</p><ol><li>Java property: <code>-Dlog4j2.formatMsgNoLookups=true</code></li><li>Environment variable: <code>LOG4J_FORMAT_MSG_NO_LOOKUPS=true</code></li></ol><p>Both approaches are effective in mitigating the vulnerability for Pulsar
services.</p><p>Additionally, when running Pulsar Functions with Kubernetes runtime, you should update
your Docker images, following the example described <a href="https://github.com/lhotari/pulsar-docker-images-patch-CVE-2021-44228" target="_blank" rel="noopener noreferrer">here</a>.</p><p>If you are using the Pulsar Helm Chart for deploying in Kubernetes, a <a href="https://github.com/apache/pulsar-helm-chart/releases/tag/pulsar-2.7.6" target="_blank" rel="noopener noreferrer">new
version of the chart</a> is already available and it applies the above mentioned workaround.
If upgrading is not an option, you may also mitigate by adding <code>-Dlog4j2.formatMsgNoLookups=true</code> to the <code>PULSAR_EXTRA_OPTS</code> in the <code>configData</code> section for proxy, broker, bookkeeper, zookeeper, auto-recovery, and relative components in the helm values file.</p><p>We are already preparing new patch releases, 2.7.4, 2.8.2 and 2.9.1. These
releases will be ready in the next few days and will bundle the Log4j2 2.15.0,
which contains the vulnerability fix.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/09/23/Apache-Pulsar-2-8-1">Apache Pulsar 2.8.1</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-09-23T00:00:00.000Z" itemprop="datePublished">September 23, 2021</time> · <!-- -->6 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a itemprop="url"><span itemprop="name">Hang Chen, Anonymitaet</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>The Apache Pulsar community releases version 2.8.1! 49 contributors provided improvements and bug fixes that delivered 213 commits.</p><p>Highlights of this release are as below:</p><ul><li><p>Key-shared subscriptions no longer stop dispatching to consumers when repeatedly opening and closing consumers. <a href="https://github.com/apache/pulsar/pull/10920" target="_blank" rel="noopener noreferrer">PR-10920</a></p></li><li><p>System topic no longer has potential data loss when not configured for compaction. <a href="https://github.com/apache/pulsar/pull/11003" target="_blank" rel="noopener noreferrer">PR-11003</a></p></li><li><p>Consumers are not allowed to read data on topics to which they are not subscribed. <a href="https://github.com/apache/pulsar/pull/11912" target="_blank" rel="noopener noreferrer">PR-11912</a></p></li></ul><p>This blog walks through the most noteworthy changes grouped by component. For the complete list including all features, enhancements, and bug fixes, check out the <a href="https://pulsar.apache.org/release-notes/#281-mdash-2021-09-10-a-id281a" target="_blank" rel="noopener noreferrer">Pulsar 2.8.1 Release Notes</a>.</p><header><h1>Notable bug fixes and enhancements</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="broker">Broker<a class="hash-link" href="#broker" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="precise-publish-rate-limit-takes-effect-as-expected-pr-11446">Precise publish rate limit takes effect as expected. <a href="https://github.com/apache/pulsar/pull/11446" target="_blank" rel="noopener noreferrer">PR-11446</a><a class="hash-link" href="#precise-publish-rate-limit-takes-effect-as-expected-pr-11446" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, when setting precise publish rate limits on topics, it did not work.</p><p><strong>Resolution</strong>: Implemented a new <code>RateLimiter</code> using the <code>LeakingBucket</code> and <code>FixedWindow</code> algorithms.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="messages-with-the-same-keys-are-delivered-to-the-correct-consumers-on-key-shared-subscriptions-pr-10762">Messages with the same keys are delivered to the correct consumers on Key-Shared subscriptions. <a href="https://github.com/apache/pulsar/pull/10762" target="_blank" rel="noopener noreferrer">PR-10762</a><a class="hash-link" href="#messages-with-the-same-keys-are-delivered-to-the-correct-consumers-on-key-shared-subscriptions-pr-10762" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Messages with the same keys were out of order when message redelivery occurred on a Key-Shared subscription.</p><p><strong>Resolution</strong>: When sending a message to <code>messagesToRedeliver</code>, the broker saved the hash value of the key. If the dispatcher attempted to send newer messages to the consumer that had a key corresponding to any one of the saved hash values, they were added to <code>messagesToRedeliver</code> instead of being sent. This prevented messages with the same key from being out of order.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="active-producers-with-the-same-name-are-no-longer-removed-from-the-topic-map-pr-11804">Active producers with the same name are no longer removed from the topic map. <a href="https://github.com/apache/pulsar/pull/11804" target="_blank" rel="noopener noreferrer">PR-11804</a><a class="hash-link" href="#active-producers-with-the-same-name-are-no-longer-removed-from-the-topic-map-pr-11804" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, when there were producers with the same name, an error would be triggered and the old producer would be removed even though it was still writing to a topic.</p><p><strong>Resolution</strong>: Validated producers based on a connection ID (local &amp; remote addresses and unique ID) and a producer ID within that connection rather than a producer name.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="topics-in-a-fenced-state-can-recover-when-producers-continue-to-reconnect-to-brokers-pr-11737">Topics in a fenced state can recover when producers continue to reconnect to brokers. <a href="https://github.com/apache/pulsar/pull/11737" target="_blank" rel="noopener noreferrer">PR-11737</a><a class="hash-link" href="#topics-in-a-fenced-state-can-recover-when-producers-continue-to-reconnect-to-brokers-pr-11737" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, when a producer continued to reconnect to a broker, the fenced state of the topic was always set to true, which caused the topic to be unable to recover.</p><p><strong>Resolution</strong>: Add an entry to <code>ManagedLedgerException</code> when the polled operation is not equal to the current operation.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="topic-properly-initializes-the-cursor-to-prevent-data-loss-pr-11547">Topic properly initializes the cursor to prevent data loss. <a href="https://github.com/apache/pulsar/pull/11547" target="_blank" rel="noopener noreferrer">PR-11547</a><a class="hash-link" href="#topic-properly-initializes-the-cursor-to-prevent-data-loss-pr-11547" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, when subscribing to a topic with the earliest position, data would be lost because <code>ManagedLedger</code> used a wrong position to initialize a cursor.</p><p><strong>Resolution</strong>: Added a test to check a cursor&#x27;s position when subscribing to a topic with the earliest position.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="deadlock-no-longer-occurs-when-using-hasmessageavailableasync-and-readnextasync-pr-11183">Deadlock no longer occurs when using <code>hasMessageAvailableAsync</code> and <code>readNextAsync</code>. <a href="https://github.com/apache/pulsar/pull/11183" target="_blank" rel="noopener noreferrer">PR-11183</a><a class="hash-link" href="#deadlock-no-longer-occurs-when-using-hasmessageavailableasync-and-readnextasync-pr-11183" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, when messages were added to an incoming queue, a deadlock might occur. The deadlock might happen in two possible scenarios. First, if the message was added to the queue before the message was read. Second, if <code>readNextAsync</code> was completed before <code>future.whenComplete</code> was called.</p><p><strong>Resolution</strong>: Used an internal thread to process the callback of <code>hasMessageAvailableAsync</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="memory-leak-does-not-occur-when-calling-getlastmessageid-api-pr-10977">Memory leak does not occur when calling getLastMessageId API. <a href="https://github.com/apache/pulsar/pull/10977" target="_blank" rel="noopener noreferrer">PR-10977</a><a class="hash-link" href="#memory-leak-does-not-occur-when-calling-getlastmessageid-api-pr-10977" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, the broker ran out of memory when calling the <code>getLastMessageId</code> API.</p><p><strong>Resolution</strong>: Added the <code>entry.release()</code> call to the <code>PersistentTopic.getLastMessageId</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="compaction-is-triggered-for-system-topics-pr-10941">Compaction is triggered for system topics. <a href="https://github.com/apache/pulsar/pull/10941" target="_blank" rel="noopener noreferrer">PR-10941</a><a class="hash-link" href="#compaction-is-triggered-for-system-topics-pr-10941" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, when a topic had only non-durable subscriptions, the compaction was not triggered because it had 0 estimated backlog size. </p><p><strong>Resolution</strong>: Used the total backlog size to trigger the compaction. Changed the behavior in the case of no durable subscriptions to use the total backlog size</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="key-shared-subscriptions-no-longer-stop-dispatching-to-consumers-when-repeatedly-opening-and-closing-consumers-pr-10920">Key-shared subscriptions no longer stop dispatching to consumers when repeatedly opening and closing consumers. <a href="https://github.com/apache/pulsar/pull/10920" target="_blank" rel="noopener noreferrer">PR-10920</a><a class="hash-link" href="#key-shared-subscriptions-no-longer-stop-dispatching-to-consumers-when-repeatedly-opening-and-closing-consumers-pr-10920" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Repeatedly opening and closing consumers with a Key-Shared subscription might occasionally stop dispatching messages to all consumers.</p><p><strong>Resolution</strong>: Moved the mark-delete position and removed the consumer from the selector before calling <code>removeConsumer()</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="consumers-are-not-allowed-to-read-data-on-topics-to-which-they-are-not-subscribed-pr-11912">Consumers are not allowed to read data on topics to which they are not subscribed. <a href="https://github.com/apache/pulsar/pull/11912" target="_blank" rel="noopener noreferrer">PR-11912</a><a class="hash-link" href="#consumers-are-not-allowed-to-read-data-on-topics-to-which-they-are-not-subscribed-pr-11912" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, the request ledger was not checked whether it belonged to a consumer’s connected topic, which allowed the consumer to read data that does not belong to the connected topic.</p><p><strong>Resolution</strong>: Added a check on the <code>ManagedLedger</code> level before executing read operations. </p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="topic-policy">Topic Policy<a class="hash-link" href="#topic-policy" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="retention-policy-works-as-expected-pr-11021">Retention policy works as expected. <a href="https://github.com/apache/pulsar/pull/11021" target="_blank" rel="noopener noreferrer">PR-11021</a><a class="hash-link" href="#retention-policy-works-as-expected-pr-11021" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, the retention policy did not work because it was not set in the <code>managedLedger</code> configuration.</p><p><strong>Resolution</strong>: Set the retention policy in the <code>managedLedger</code> configuration to the <code>onUpdate</code> listener method.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="system-topic-no-longer-has-potential-data-loss-when-not-configured-for-compaction-pr-11003">System topic no longer has potential data loss when not configured for compaction. <a href="https://github.com/apache/pulsar/pull/11003" target="_blank" rel="noopener noreferrer">PR-11003</a><a class="hash-link" href="#system-topic-no-longer-has-potential-data-loss-when-not-configured-for-compaction-pr-11003" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, data might be lost if there were no durable subscriptions on topics.</p><p><strong>Resolution</strong>: Leveraged the topic compaction cursor to retain data.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="proxy">Proxy<a class="hash-link" href="#proxy" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="pulsar-proxy-correctly-shuts-down-outbound-connections-pr-11848">Pulsar proxy correctly shuts down outbound connections. <a href="https://github.com/apache/pulsar/pull/11848" target="_blank" rel="noopener noreferrer">PR-11848</a><a class="hash-link" href="#pulsar-proxy-correctly-shuts-down-outbound-connections-pr-11848" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, there was a memory leak of outgoing TCP connections in the Pulsar proxy because the <code>ProxyConnectionPool</code> instances were created outside the <code>PulsarClientImpl</code> instance and not closed when the client was closed.</p><p><strong>Resolution</strong>: Shut down the <code>ConnectionPool</code> correctly.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="function">Function<a class="hash-link" href="#function" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="pulsar-functions-support-protobuf-schema-pr-11709">Pulsar Functions support Protobuf schema. <a href="https://github.com/apache/pulsar/pull/11709" target="_blank" rel="noopener noreferrer">PR-11709</a><a class="hash-link" href="#pulsar-functions-support-protobuf-schema-pr-11709" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, the exception <code>GeneratedMessageV3 is not assignable</code> was thrown when using a Protobuf schema.</p><p><strong>Resolution</strong>: Added the relevant dependencies to the Pulsar instance.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="client">Client<a class="hash-link" href="#client" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="partitioned-topic-consumers-clean-up-resources-after-a-failure-pr-11754">Partitioned-topic consumers clean up resources after a failure. <a href="https://github.com/apache/pulsar/pull/11754" target="_blank" rel="noopener noreferrer">PR-11754</a><a class="hash-link" href="#partitioned-topic-consumers-clean-up-resources-after-a-failure-pr-11754" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, partitioned-topic consumers did not clean up the resources when failing to create consumers. If this failure occurred with non-recoverable errors, it triggered a memory leak, which made applications unstable.</p><p><strong>Resolution</strong>: Closed and cleaned timer task references.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="race-conditions-do-not-occur-on-multi-topic-consumers-pr-11764">Race conditions do not occur on multi-topic consumers. <a href="https://github.com/apache/pulsar/pull/11764" target="_blank" rel="noopener noreferrer">PR-11764</a><a class="hash-link" href="#race-conditions-do-not-occur-on-multi-topic-consumers-pr-11764" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, there was a race condition between 2 threads when one of the individual consumers was in a &quot;paused&quot; state and the shared queue was full. </p><p><strong>Resolution</strong>: Validated the state of the shared queue after marking the consumer as &quot;paused&quot;. The consumer is not blocked if the other thread has emptied the queue in the meantime. </p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="consumers-are-not-blocked-on-batchreceive-pr-11691">Consumers are not blocked on <code>batchReceive</code>. <a href="https://github.com/apache/pulsar/pull/11691" target="_blank" rel="noopener noreferrer">PR-11691</a><a class="hash-link" href="#consumers-are-not-blocked-on-batchreceive-pr-11691" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, consumers were blocked when <code>Consumer.batchReceive()</code> was called concurrently by different threads due to a race condition in <code>ConsumerBase.java</code>.</p><p><strong>Resolution</strong>: Put <code>pinnedInternalExecutor</code> in <code>ConsumerBase</code> to allow batch timer, <code>ConsumerImpl</code>, and <code>MultiTopicsConsumerImpl</code> to submit work in a single thread.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="python-client-correctly-enables-custom-logging-pr-11882">Python client correctly enables custom logging. <a href="https://github.com/apache/pulsar/pull/11882" target="_blank" rel="noopener noreferrer">PR-11882</a><a class="hash-link" href="#python-client-correctly-enables-custom-logging-pr-11882" title="Direct link to heading">​</a></h3><p><strong>Issue</strong>: Previously, deadlock might happen when custom logging was enabled in the Python client.</p><p><strong>Resolution</strong>: Detached the worker thread and reduced log level.</p><header><h1>What is Next?</h1></header><p>If you are interested in learning more about Pulsar 2.8.1, you can <a href="https://pulsar.apache.org/en/download/" target="_blank" rel="noopener noreferrer">download</a> and try it out now! </p><p>The first-ever Pulsar Virtual Summit Europe 2021 will take place in October. <a href="https://hopin.com/events/pulsar-summit-europe-2021" target="_blank" rel="noopener noreferrer">Register now</a> and help us make it an even bigger success by spreading the word on social media!</p><p>For more information about the Apache Pulsar project and the progress, visit
the <a href="https://pulsar.apache.org" target="_blank" rel="noopener noreferrer">Pulsar website</a>, follow the project on Twitter <a href="https://twitter.com/apache_pulsar" target="_blank" rel="noopener noreferrer">@apache_pulsar</a>, and join <a href="https://apache-pulsar.herokuapp.com/" target="_blank" rel="noopener noreferrer">Pulsar Slack</a>!</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/08/18/asia-cfp">Announcing Pulsar Summit Asia 2021: CFP Is Open!</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-08-18T00:00:00.000Z" itemprop="datePublished">August 18, 2021</time> · <!-- -->3 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a itemprop="url"><span itemprop="name">Dianjin</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We’re proud to announce the Pulsar Summit Asia 2021!</p><p>2021 has been a remarkable year for the Apache Pulsar community. <a href="https://streamnative.io/en/blog/community/2021-06-14-pulsar-hits-its-400th-contributor-and-passes-kafka-in-monthly-active-contributors" target="_blank" rel="noopener noreferrer">Both the technology and community are growing rapidly this year</a>, and <a href="https://www.na2021.pulsar-summit.org" target="_blank" rel="noopener noreferrer">Pulsar Virtual Summit North America 2021</a> was a big success with 33 break-out sessions and more than 550 registrations.</p><p>Last year, <a href="https://pulsar-summit.org/en/event/asia-2020" target="_blank" rel="noopener noreferrer">Pulsar Summit Asia</a> featured more than 40 interactive sessions by tech leads, open-source developers, software engineers, and software architects from Tencent Group, BIGO, Kingsoft Cloud, Splunk, Yahoo! JAPAN, Nutanix, Dada Group, TIBCO, Huawei Cloud, and more. The conference garnered nearly 1,000 attendees around the globe mostly from Asia, including attendees from top tech, fintech and media companies.</p><p>Cumulatively, the Pulsar Summits drew more than 100 speakers, thousands of attendees, and hundreds of companies from diverse industries. It is a unique opportunity to network and learn about Pulsar project updates, ecosystem developments, best practices, and adoption stories.</p><p><strong>This year, the Pulsar Summit Asia will be hosted on November 20-21, 2021 by StreamNative. You can join us offline in Beijing for one day of Pulsar Training and one day of keynotes and breakout sessions. All the talks will be streamed live online.</strong></p><header><h1>CFP Details</h1></header><p>Join us and speak at the Pulsar Summit Asia 2021!
We are looking for Pulsar stories that are innovative, informative, or thought-provoking. Here are some suggestions:</p><ul><li>Your Pulsar use case / success story</li><li>A technical deep dive</li><li>Pulsar best practices</li><li>Pulsar ecosystem updates</li></ul><p>To speak at the summit, please <a href="https://sessionize.com/pulsar-summit-asia-2021/" target="_blank" rel="noopener noreferrer">submit an abstract</a> about your presentation. Remember to keep your proposal short, relevant and engaging.</p><header><h1>First-time Speakers Welcomed!</h1></header><p>First time submitting? Don&#x27;t feel intimidated. We strongly encourage first-time speakers to submit talks for the Pulsar Summit Asia 2021. If your submission is similar to a previous talk in the past Pulsar Summits, please include information on how this version will be different. We hope to see some exciting updates on the topic.</p><p>We welcome submissions from around the globe. Our hybrid conference model has taken time differences into consideration. After your talk is accepted, we will schedule the sessions and send you the presentation options. </p><header><h1>Speaker Benefits</h1></header><p>As a speaker, you will receive: </p><ul><li>The chance to demonstrate your experience and deep knowledge in the rapidly growing event streaming space.</li><li>Your name, title, company, and bio will be featured on the Pulsar Summit Asia 2021 website.</li><li>Your session will be added to the Pulsar Summit YouTube Channel and promoted on Twitter,  LinkedIn, and WeChat.</li><li>A professionally produced video of your presentation.
Exclusive Pulsar swag only available to the speakers.</li></ul><header><h1>Important Dates</h1></header><ul><li>CFP opens: August 18th, 2021 </li><li>CFP closes: September 8th, 2021 </li><li>Speaker notifications: September 22th, 2021</li><li>Schedule announcement: October 13th, 2021 </li></ul><p>Submissions are open until September 8th. If you want some advice or feedback on your proposal, or have any questions about the summit, please do not hesitate to contact us at <a href="mailto:organizers@pulsar-summit.org." target="_blank" rel="noopener noreferrer">organizers@pulsar-summit.org.</a> We are happy to help!</p><header><h1>Sponsor Pulsar Summit Asia</h1></header><p>Pulsar Summit is a conference for the community and sponsorship is needed. Sponsoring this event provides a great opportunity for your organization to further engage with the Apache Pulsar community. Contact us at <a href="mailto:organizers@pulsar-summit.org" target="_blank" rel="noopener noreferrer">organizers@pulsar-summit.org</a> to learn more.</p><p>Help us make Pulsar Summit Asia 2021 a big success by spreading the word and submitting your proposal! Follow Pulsar Summit on <a href="https://twitter.com/PulsarSummit" target="_blank" rel="noopener noreferrer">Twitter</a> to receive the latest updates of the conference.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/08/11/Apache-Pulsar-2-7-3">Apache Pulsar 2.7.3</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-08-11T00:00:00.000Z" itemprop="datePublished">August 11, 2021</time> · <!-- -->6 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a itemprop="url"><span itemprop="name">Bo Cong, Anonymitaet</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>The Apache Pulsar community releases version 2.7.3! 34 contributors provided improvements and bug fixes that delivered 79 commits.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="highlights">Highlights<a class="hash-link" href="#highlights" title="Direct link to heading">​</a></h2><ul><li><p>Cursor reads adhere to the dispatch byte rate limiter setting and no longer cause unexpected results. <a href="https://github.com/apache/pulsar/pull/11249" target="_blank" rel="noopener noreferrer">PR-11249</a></p></li><li><p>The ledger rollover scheduled task runs as expected. <a href="https://github.com/apache/pulsar/pull/11226" target="_blank" rel="noopener noreferrer">PR-11226</a></p></li></ul><p>This blog walks through the most noteworthy changes. For the complete list including all enhancements and bug fixes, check out the <a href="https://pulsar.apache.org/release-notes/#273-mdash-2021-07-27-a-id273a" target="_blank" rel="noopener noreferrer">Pulsar 2.7.3 Release Notes</a>.</p><header><h1>Notable bug fixes and enhancements</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="broker">Broker<a class="hash-link" href="#broker" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="cursor-reads-adhere-to-the-dispatch-byte-rate-limiter-setting-pr-9826">Cursor reads adhere to the dispatch byte rate limiter setting. <a href="https://github.com/apache/pulsar/pull/9826" target="_blank" rel="noopener noreferrer">PR-9826</a><a class="hash-link" href="#cursor-reads-adhere-to-the-dispatch-byte-rate-limiter-setting-pr-9826" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: When using byte rates, the dispatch rates were not respected (regardless
of being a namespace or topic policy). </p></li><li><p><strong>Resolution</strong>: Fixed behavior of dispatch byte rate limiter setting. Cursor reads adhere to the setting and no longer cause unexpected results. </p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-ledger-rollover-scheduled-task-runs-as-expected-pr-11226">The ledger rollover scheduled task runs as expected. <a href="https://github.com/apache/pulsar/pull/11226" target="_blank" rel="noopener noreferrer">PR-11226</a><a class="hash-link" href="#the-ledger-rollover-scheduled-task-runs-as-expected-pr-11226" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: Previously, the ledger rollover scheduled task was executed before reaching the ledger maximum rollover time, which caused the ledger not to roll over in time. </p></li><li><p><strong>Resolution</strong>: Fixed the timing of the ledger rollover schedule, so the task runs only after the ledger is created successfully. </p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-topic-level-retention-policy-works-correctly-when-restarting-a-broker-pr-11136">The topic-level retention policy works correctly when restarting a broker. <a href="https://github.com/apache/pulsar/pull/11136" target="_blank" rel="noopener noreferrer">PR-11136</a><a class="hash-link" href="#the-topic-level-retention-policy-works-correctly-when-restarting-a-broker-pr-11136" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: Previously, when setting a topic-level retention policy for a topic and then restarting the broker, the topic-level retention policy did not work.</p></li><li><p><strong>Resolution</strong>: Fixed behavior of the policy so it replays all policy messages after initiating <code>policyCacheInitMap</code> and added a retention policy check test when restarting the broker.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-lastmessageid-api-call-no-longer-causes-a-memory-leak-pr-10977">The lastMessageId API call no longer causes a memory leak. <a href="https://github.com/apache/pulsar/pull/10977" target="_blank" rel="noopener noreferrer">PR-10977</a><a class="hash-link" href="#the-lastmessageid-api-call-no-longer-causes-a-memory-leak-pr-10977" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: Previously, there was a memory leak when calling the <code>lastMessageId</code> API, which caused the broker process to be stopped by Kubernetes. </p></li><li><p><strong>Resolution</strong>: Added the missing entry.release() call to PersistentTopic.getLastMessageId to ensure the broker does not run out of memory. </p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="zookeeper-reads-are-cached-by-brokers-pr-10594">ZooKeeper reads are cached by brokers. <a href="https://github.com/apache/pulsar/pull/10594" target="_blank" rel="noopener noreferrer">PR-10594</a><a class="hash-link" href="#zookeeper-reads-are-cached-by-brokers-pr-10594" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: When performing the admin operation to get the namespace of a tenant, ZooKeeper reads were issued on the ZooKeeper client and not getting cached by the brokers.</p></li><li><p><strong>Resolution</strong>: Fixed ZooKeeper caching when fetching a list of namespaces for a tenant.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="monitoring-threads-that-call-leaderserviceisleader-are-no-longer-blocked-pr-10512">Monitoring threads that call <code>LeaderService.isLeader()</code> are no longer blocked. <a href="https://github.com/apache/pulsar/pull/10512" target="_blank" rel="noopener noreferrer">PR-10512</a><a class="hash-link" href="#monitoring-threads-that-call-leaderserviceisleader-are-no-longer-blocked-pr-10512" title="Direct link to heading">​</a></h3><ul><li><strong>Issue</strong>:  When <code>LeaderService</code> changed leadership status, it was locked with a <code>synchronized</code> block, which also blocked other threads calling <code>LeaderService.isLeader()</code>. </li><li><strong>Resolution</strong>: Fixed the deadlock condition on the monitoring thread so it is not blocked by <code>LeaderService.isLeader() by modifying </code>ClusterServiceCoordinator<code>and</code>WorkerStatsManager<code>to check if it is a leader from</code>MembershipManager`. </li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="hasmessageavailable-can-read-messages-successfully-pr-10414"><code>hasMessageAvailable</code> can read messages successfully. <a href="https://github.com/apache/pulsar/pull/10414" target="_blank" rel="noopener noreferrer">PR-10414</a><a class="hash-link" href="#hasmessageavailable-can-read-messages-successfully-pr-10414" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: When <code>hasMessageAvailableAsync</code> returned <code>true</code>, it could not read messages because messages were filtered by <code>acknowledgmentsGroupingTracker</code>. </p></li><li><p><strong>Resolution</strong>: Fixed the race conditions by modifying <code>acknowledgmentsGroupingTracker</code> to filter duplicate messages, and then cleanup the messages when the connection is open.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="proxy">Proxy<a class="hash-link" href="#proxy" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="proxy-supports-creating-partitioned-topics-automatically-pr-8048">Proxy supports creating partitioned topics automatically. <a href="https://github.com/apache/pulsar/pull/8048" target="_blank" rel="noopener noreferrer">PR-8048</a><a class="hash-link" href="#proxy-supports-creating-partitioned-topics-automatically-pr-8048" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: Proxies were not creating partitions because they were using the current ZooKeeper metadata.</p></li><li><p><strong>Resolution</strong>: Changed the proxy to handle <code>PartitionMetadataRequest</code> by selecting and fetching from an available broker instead of using current ZooKeeper metadata.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="pulsar-admin">Pulsar admin<a class="hash-link" href="#pulsar-admin" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="flag-added-to-indicate-whether-or-not-to-create-a-metadata-path-on-replicated-clusters-pr-11140">Flag added to indicate whether or not to create a metadata path on replicated clusters. <a href="https://github.com/apache/pulsar/pull/11140" target="_blank" rel="noopener noreferrer">PR-11140</a><a class="hash-link" href="#flag-added-to-indicate-whether-or-not-to-create-a-metadata-path-on-replicated-clusters-pr-11140" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: When creating a partitioned topic in a replicated namespace, it did not
create a metadata path <code>/managed-ledgers</code> on replicated clusters.</p></li><li><p><strong>Resolution</strong>: Added a flag (createLocalTopicOnly) to indicate whether or not to create a metadata path for a partitioned topic in replicated clusters.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="a-topic-policy-can-no-longer-be-set-for-a-non-existent-topic-pr-11131">A topic policy can no longer be set for a non-existent topic. <a href="https://github.com/apache/pulsar/pull/11131" target="_blank" rel="noopener noreferrer">PR-11131</a><a class="hash-link" href="#a-topic-policy-can-no-longer-be-set-for-a-non-existent-topic-pr-11131" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: Due to a redirect loop in a topic policy, you can set a policy for a non-existing topic or a partition of a partitioned topic. </p></li><li><p><strong>Resolution</strong>: The fix added an authoritative flag for a topic policy to avoid a redirect loop. You can not set a topic policy for a non-existent topic or a partition of a partitioned topic. If you set a topic policy for a partition of a 0-partition topic, it redirects to the broker. </p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="discovery-service-no-longer-hard-codes-the-topic-domain-as-persistent-pr-10806">Discovery service no longer hard codes the topic domain as persistent. <a href="https://github.com/apache/pulsar/pull/10806" target="_blank" rel="noopener noreferrer">PR-10806</a><a class="hash-link" href="#discovery-service-no-longer-hard-codes-the-topic-domain-as-persistent-pr-10806" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: When using the lookup discovery service for a partitioned non-persistent topic, it returned zero rather than the number of partitions. The Pulsar client tried to connect to the topic as if it were a normal topic.</p></li><li><p><strong>Resolution</strong>: Implemented <code>topicName.getDomain().value()</code> rather than hard coding <code>persistent.</code> Now you can use the discovery service for a partitioned, non-persistent topic successfully.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="other-connectors-can-now-use-the-kinesis-backoff-class-pr-10744">Other connectors can now use the Kinesis <code>Backoff</code> class. <a href="https://github.com/apache/pulsar/pull/10744" target="_blank" rel="noopener noreferrer">PR-10744</a><a class="hash-link" href="#other-connectors-can-now-use-the-kinesis-backoff-class-pr-10744" title="Direct link to heading">​</a></h3><ul><li><p><strong>Issue</strong>: The Kinesis sink connector <code>Backoff</code> class in the Pulsar client implementation project in combination  with the dependency <code>org.apache.pulsar:pulsar-client-original</code> increased the connector size. </p></li><li><p><strong>Resolution</strong>: Added a new class <code>Backoff</code> in the function io-core project so that the Kinesis sink connector and other connectors can use the class.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="client">Client<a class="hash-link" href="#client" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="a-flow-request-with-zero-permits-can-not-be-sent-pr-10506">A <code>FLOW</code> request with zero permits can not be sent. <a href="https://github.com/apache/pulsar/pull/10506" target="_blank" rel="noopener noreferrer">PR-10506</a><a class="hash-link" href="#a-flow-request-with-zero-permits-can-not-be-sent-pr-10506" title="Direct link to heading">​</a></h3><ul><li><strong>Issue</strong>: When a broker received a <code>FLOW</code> request with zero permits, an exception was thrown and then the connection was closed. This triggered frequent reconnections and caused duplicate or out-of-order messages. </li><li><strong>Resolution</strong>: Added a validation that verifies the permits of a <code>FLOW</code> request before sending it. If the permit is zero, the <code>FLOW</code> request can not be sent.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="function-and-connector">Function and connector<a class="hash-link" href="#function-and-connector" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-kinesis-sink-connector-acknowledges-successful-messages-pr-10769">The Kinesis sink connector acknowledges successful messages. <a href="https://github.com/apache/pulsar/pull/10769" target="_blank" rel="noopener noreferrer">PR-10769</a><a class="hash-link" href="#the-kinesis-sink-connector-acknowledges-successful-messages-pr-10769" title="Direct link to heading">​</a></h3><ul><li><strong>Issue</strong>: The Kinesis sink connector did not acknowledge messages after they were sent successfully. </li><li><strong>Resolution</strong>: Added acknowledgement for the Kinesis sink connector once a message is sent successfully. </li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="docker">Docker<a class="hash-link" href="#docker" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="function-name-length-cannot-exceed-52-characters-when-using-kubernetes-runtime-pr-10531">Function name length cannot exceed 52 characters when using Kubernetes runtime. <a href="https://github.com/apache/pulsar/pull/10531" target="_blank" rel="noopener noreferrer">PR-10531</a><a class="hash-link" href="#function-name-length-cannot-exceed-52-characters-when-using-kubernetes-runtime-pr-10531" title="Direct link to heading">​</a></h3><ul><li><strong>Issue</strong>: When using Kubernetes runtime, if a function was submitted with a valid length (less than 55 characters), a StatefulSet was created but it was unable to spawn pods. </li><li><strong>Resolution</strong>: Changed the maximum length of a function name from 55 to 53 characters for Kubernetes runtime. With this fix, the length of a function name can not exceed 52 characters. </li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="dependency">Dependency<a class="hash-link" href="#dependency" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="pulsar-admin-connection-to-proxy-is-stable-when-tls-is-enabled-pr-10907"><code>pulsar-admin</code> connection to proxy is stable when TLS is enabled. <a href="https://github.com/apache/pulsar/pull/10907" target="_blank" rel="noopener noreferrer">PR-10907</a><a class="hash-link" href="#pulsar-admin-connection-to-proxy-is-stable-when-tls-is-enabled-pr-10907" title="Direct link to heading">​</a></h3><ul><li><strong>Issue</strong>: <code>pulsar-admin</code> was unstable over the TLS connection because of the Jetty bug in SSL buffering introduced in Jetty 9.4.39. It caused large function jar uploads to fail frequently.</li><li><strong>Resolution</strong>: Upgraded Jetty to 9.4.42.v20210604, so that <code>pulsar-admin</code> connection to proxy is stable when TLS is enabled.</li></ul><header><h1>What is Next?</h1></header><p>If you are interested in learning more about Pulsar 2.7.3, you can <a href="https://pulsar.apache.org/en/versions/" target="_blank" rel="noopener noreferrer">download 2.7.3</a> and try it out now! </p><p>The first-ever Pulsar Virtual Summit Europe 2021 will take place in October. <a href="https://hopin.com/events/pulsar-summit-europe-2021" target="_blank" rel="noopener noreferrer">Register now</a> and help us make it an even bigger success by spreading the word on social!</p><p>For more information about the Apache Pulsar project and the progress, visit
the <a href="https://pulsar.apache.org" target="_blank" rel="noopener noreferrer">Pulsar website</a>, follow the project on Twitter <a href="https://twitter.com/apache_pulsar" target="_blank" rel="noopener noreferrer">@apache_pulsar</a>, and join <a href="https://apache-pulsar.herokuapp.com/" target="_blank" rel="noopener noreferrer">Pulsar Slack</a>!</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/06/12/Apache-Pulsar-2-8-0">Apache Pulsar 2.8.0</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-06-12T00:00:00.000Z" itemprop="datePublished">June 12, 2021</time> · <!-- -->14 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a itemprop="url"><span itemprop="name">Matteo Merli, Sijie Guo</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are very glad to see the Apache Pulsar community has successfully released the 2.8.0 version, which includes a number of exciting upgrades and enhancements. This blog provides a deep dive into the updates from the 2.8.0 release as well as a detailed look at the major Pulsar developments that have helped it evolve into the unified messaging and streaming platform it is today.</p><p>Note: The Pulsar community typically releases a major release every 3 months, but it has been 6 months since the release of 2.7.0. We spent more time on 2.8.0 in order to make the transaction API generally available to the Pulsar community. </p><header><h1>Release 2.8 Overview</h1></header><p>The key features and updates in this release are:</p><ul><li>Exclusive Producer</li><li>Package Management API</li><li>Simplified Client Memory Limit Settings</li><li>Broker Entry Metadata</li><li>New Protobuf Code Generator</li><li>Transactions</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="exclusive-producer">Exclusive Producer<a class="hash-link" href="#exclusive-producer" title="Direct link to heading">​</a></h2><p>By default, the Pulsar producer API provides a “multi-writer” semantic to append messages to a topic. However, there are several use cases that require exclusive access for a single writer, such as ensuring a linear non-interleaved history of messages or providing a mechanism for leader election.</p><p>This new feature allows applications to require exclusive producer access in order to achieve a “single-writer” situation. It guarantees that there should be 1 single writer in any combination of errors. If the producer loses its exclusive access, no more messages from it can be published on the topic.</p><p>One use case for this feature is the metadata controller in Pulsar Functions. In order to write a single linear history of all the functions metadata updates, the metadata controller requires to elect one leader and that all the “decisions” made by this leader be written on the metadata topic. By leveraging the exclusive producer feature, Pulsar guarantees that the metadata topic contains different segments of updates, one per each successive leader, and there is no interleaving across different leaders. See “<a href="https://github.com/apache/pulsar/wiki/PIP-68%3A-Exclusive-Producer" target="_blank" rel="noopener noreferrer">PIP-68: Exclusive Producer</a>” for more details.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="package-management-api">Package Management API<a class="hash-link" href="#package-management-api" title="Direct link to heading">​</a></h2><p>Since its introduction in version 2.0, the Functions API has become hugely popular among Pulsar users. While it offers many benefits, there are a number of ways to improve the user experience. For example, today, if a function is deployed multiple times, the function package ends up being uploaded multiple times. Also, there is no version management in Pulsar for Functions and IO connectors. The newly introduced package management API provides an easier way to manage the packages for Functions and IO connectors and significantly simplifies the upgrade and rollback processes. Read “<a href="http://pulsar.apache.org/docs/en/admin-api-packages/" target="_blank" rel="noopener noreferrer">Package Management API</a>” for more details.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="simplified-client-memory-limit-settings">Simplified Client Memory Limit Settings<a class="hash-link" href="#simplified-client-memory-limit-settings" title="Direct link to heading">​</a></h2><p>Prior to 2.8, there are multiple settings in producers and consumers that allow controlling the sizes of the internal message queues. These settings ultimately control the amount of memory the Pulsar client uses. However, there are few issues with this approach that make it complicated to select an overall configuration that controls the total usage of memory. </p><p>For example, the settings are based on the “number of messages”, so the expected message size must be adjusted per producer or consumer. If an application has a large (or unknown) number of producers or consumers, it’s very difficult to select an appropriate value for queue sizes. The same is true for topics that have many partitions.</p><p>In 2.8, we introduced a new API to set the memory limit. This single <code>memoryLimit</code> setting specifies a maximum amount of memory on a given Pulsar client. The producers and consumers compete for the memory assigned. It ensures the memory used by the Pulsar client will not go beyond the set limit. Read “<a href="https://github.com/apache/pulsar/wiki/PIP-74%3A-Pulsar-client-memory-limits" target="_blank" rel="noopener noreferrer">PIP-74: Pulsar client memory limits</a>” for more details.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="broker-entry-metadata">Broker Entry Metadata<a class="hash-link" href="#broker-entry-metadata" title="Direct link to heading">​</a></h2><p>Pulsar messages define a very comprehensive set of metadata properties. However, to add a new property, the <code>MessageMetadata</code> definition in Pulsar protocol must change to inform both broker and client of the newly introduced property. </p><p>But in certain cases, this metadata property might need to be added from the broker side, or need to be retrieved by the broker at a very low cost. To prevent deserializing these properties from the message metadata, we introduced “Broker Entry Metadata” in 2.8.0 to provide a lightweight approach to add additional metadata properties without serializing and deserializing the protobuf-encoded <code>MessageMetadata</code>. </p><p>This feature unblocks a new set of capabilities for Pulsar. For example, we can leverage broker entry metadata to generate broker publish time for the messages appended to the Pulsar topic. The other example is to generate a monotonically increasing sequence-id for messages produced to a Pulsar topic. We use this feature in Kafka-on-Pulsar to implement Kafka offset.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="new-protobuf-code-generator">New Protobuf Code Generator<a class="hash-link" href="#new-protobuf-code-generator" title="Direct link to heading">​</a></h2><p>Pulsar uses Google Protobuf in order to perform serialization and deserialization of the commands that are exchanged between clients and brokers. Because of the overhead involved with the regular Protobuf implementation, we have been using a modified version of Protobuf 2.4.1. The modifications were done to ensure a more efficient serialization code that used thread local cache for the objects used in the process.</p><p>This approach introduced a few issues. For example, the patch to the Protobuf code generator is only based on Protobuf version 2.4.1 and cannot be upgraded to the newer Protobuf versions. In 2.8, we switched the patched Protobuf 2.4.1 to Splunk LightProto as the code generator. The new code generator generates the fastest possible Java code for Protobuf SerDe, is 100% compatible with proto2 definition and wire protocol, and provides zero-copy deserialization using Netty ByteBuf.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="transactions">Transactions<a class="hash-link" href="#transactions" title="Direct link to heading">​</a></h2><p>Prior to Pulsar 2.8, Pulsar only supported exactly-once semantics on single topic through Idempotent Producer. While powerful, Idempotent producer only solves a narrow scope of challenges for exactly-once semantics. For example, there is no <code>atomicity</code> when a producer attempts to produce messages to multiple topics. A publish error can occur when the broker serving one of the topics crashes. If the producer doesn’t retry publishing the message again, it results in some messages being persisted once and others being lost. If the producer retries, it results in some messages being persisted multiple times.</p><p>In order to address the remaining challenges described above, we’ve strengthened the Pulsar’s delivery semantics by introducing a Pulsar Transaction API to support atomic writes and acknowledgements across multiple topics. The addition of the Transaction API to Apache Pulsar completes our vision of making Pulsar a complete unified messaging and streaming platform.</p><p>Pulsar PMC member, Penghui Li, goes over this functionality in great detail in his recent blog, Exactly-once Semantics with Transactions in Pulsar. You can read it to learn more about the <a href="https://streamnative.io/en/blog/release/2021-06-14-exactly-once-semantics-with-transactions-in-pulsar" target="_blank" rel="noopener noreferrer">exactly-once semantics support in Pulsar</a>.</p><header><h1>Building a Unified Messaging and Streaming Platform with Apache Pulsar</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="the-evolution-of-apache-pulsar">The Evolution of Apache Pulsar<a class="hash-link" href="#the-evolution-of-apache-pulsar" title="Direct link to heading">​</a></h2><p>Apache Pulsar is widely adopted by hundreds of companies across the globe, including Splunk, Tencent, Verizon, and Yahoo! JAPAN, just to name a few. Born as a cloud-native distributed messaging system, Apache Pulsar has evolved into a complete messaging and streaming platform for publishing and subscribing, storing, and processing streams of data at scale and in real-time. </p><p>Back in 2012 the Yahoo! team was looking for a global, geo-replicated infrastructure that could manage all of Yahoo!’s messaging data. After vetting the messaging and streaming landscape it became clear that existing technologies were not able to serve the need for an event-driven organization. As a result, the team at Yahoo! set out to build its own.</p><p>At the time, there were generally two types of systems to handle in-motion data: message queues that handled mission-critical business events in real-time, and streaming systems that handled scalable data pipelines at scale. Companies had to limit their capabilities to one or the other, or they had to adopt multiple different technologies. If they chose multiple technologies, they would end up with a complex infrastructure that often resulted in data segregation and data silos, with one silo for message queues used to build application services and the other silo for streaming systems used to build data services. The figure below illustrates what this can look like. </p><p><img src="/assets/images/280-1-98d0691de155a939f53568aa08a2bac4.png"></p><p>However, with the diversity of data that companies need to process beyond operational data (like log data, click events, etc), coupled with the increase in the number of downstream systems that need access to combined business data and operational data, the system would need to support message queueing and streaming. </p><p>Beyond that, companies need an infrastructure platform that would allow them to build all of their applications on top of it, and then have those applications handle in-motion data (messaging and streaming data) by default. This way real-time data infrastructure could be significantly simplified, as illustrated in the diagram below.</p><p><img src="/assets/images/280-2-10c31765a2c1024630b6c7bcce3dcc23.png"></p><p>With that vision, the Yahoo! team started working on building a unified messaging and streaming platform for in-motion data. Below is an overview of the key milestones on the Pulsar journey, from inception to today.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="step-1-a-scalable-storage-for-streams-of-data">Step 1: A scalable storage for streams of data<a class="hash-link" href="#step-1-a-scalable-storage-for-streams-of-data" title="Direct link to heading">​</a></h2><p>The journey of Pulsar began with Apache BookKeeper. Apache BookKeeper implements a log-like abstraction for continuous streams and provides the ability to run it at internet-scale with simple write-read log APIs. A log provides a great abstraction for building distributed systems, such as distributed databases and pub-sub messaging. The write APIs are in the form of appends to the log. And the read APIs are in the form of continuous read from a starting offset defined by the readers. The implementation of BookKeeper created the foundation - a scalable log-backed messaging and streaming system. </p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="step-2-a-multi-layered-architecture-that-separates-compute-from-storage">Step 2: A multi-layered architecture that separates compute from storage.<a class="hash-link" href="#step-2-a-multi-layered-architecture-that-separates-compute-from-storage" title="Direct link to heading">​</a></h2><p>On top of the scalable log storage, a stateless serving layer was introduced which runs stateless brokers for publishing and consuming messages. This multi-layered architecture separates serving/compute from storage, allowing Pulsar to manage serving and storage in separate layers.</p><p>This architecture also ensures instant scalability and higher availability. Both of these factors are extremely important and make Pulsar well-suited for building mission-critical services, such as billing platforms for financial use cases, transaction processing systems for e-commerce and retailers, and real-time risk control systems for financial institutions.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="step-3-unified-messaging-model-and-api">Step 3: Unified messaging model and API<a class="hash-link" href="#step-3-unified-messaging-model-and-api" title="Direct link to heading">​</a></h2><p>In a modern data architecture, the real-time use cases can typically be categorized into two categories: queueing and streaming. Queueing is typically used for building core business application services while streaming is typically used for building real-time data services such as data pipelines.</p><p>To provide one platform able to serve both application and data services required a unified messaging model that integrates queuing and streaming semantics. The Pulsar topics become the source of truth for consumption. Messages can be stored only once on topics, but can be consumed in different ways via different subscriptions. Such unification significantly reduces the complexity of managing and developing messaging and streaming applications.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="step-4-schema-api">Step 4: Schema API<a class="hash-link" href="#step-4-schema-api" title="Direct link to heading">​</a></h2><p>Next, a new Pulsar schema registry and a new type-safe producer &amp; consumer API were added. The built-in schema registry enables message producers and consumers on Pulsar topics to coordinate on the structure of the topic’s data through the Pulsar broker itself, without needing an external coordination mechanism. With data schemas, every single piece of data traveling through Pulsar is completely discoverable, enabling you to build systems that can easily adapt as the data changes.</p><p>Furthermore, the schema registry keeps track of data compatibility between versions of the schema. As the new schemas are uploaded the registry ensures that new schema versions are able to be read by old consumers. This ensures that Producers cannot break Consumers.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="step-5-functions-and-io-api">Step 5: Functions and IO API<a class="hash-link" href="#step-5-functions-and-io-api" title="Direct link to heading">​</a></h2><p>The next step was to build APIs that made it easy to get data in and out of Pulsar and process it. The goal was to make it easy to build event-driven applications and real-time data pipelines with Apache Pulsar, so you can then process those events when they arrive, no matter where they originated from. </p><p>The Pulsar IO API allows you to build real-time streaming data pipelines by plugging various source connectors to get data from external systems into Pulsar and sink connectors to get data from Pulsar into external systems. Today, Pulsar provides several built-in connectors that you can use. </p><p>Additionally, StreamNative Hub (a registry of Pulsar connectors) provides dozens of connectors integrated with popular data systems. If the IO API is for building streaming data pipelines, the Functions API is for building event-driven applications and real-time stream processors. </p><p>The serverless function concepts were adopted into stream processing and then built the Functions API as a lightweight serverless library that you can write any event processing logic using any language you like. The underlying motivation was to enable your engineering team to write stream processing logic without the operational complexity of running and maintaining yet another cluster.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="step-6-infinite-storage-for-pulsar-via-tiered-storage">Step 6: Infinite storage for Pulsar via Tiered Storage<a class="hash-link" href="#step-6-infinite-storage-for-pulsar-via-tiered-storage" title="Direct link to heading">​</a></h2><p>As adoption of Apache Pulsar continued and the amount of data stored in Pulsar increased, users eventually hit a “retention cliff”, at which point it became significantly more expensive to store, manage, and retrieve data in Apache BookKeeper. To work around this, operators and application developers typically use an external store like AWS S3 as a sink for long-term storage. This means you lose most of the benefits of Pulsar’s immutable stream and ordering semantics, and instead end up having to manage two different systems with different access patterns.</p><p>The introduction of Tiered Storage allows Pulsar to offload the majority of the data to a remote cloud-native storage. This cheaper form of storage readily scales with the volume of data. More importantly, with the addition of Tiered Storage, Pulsar provides the batch storage capabilities needed to support batch processing when integrating with a unified batch and stream processor like Flink. The unified batch and stream processing capabilities integrated with Pulsar enable companies to query real-time streams with historical context quickly and easily, unlocking a unique competitive advantage.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="step-7-protocol-handler">Step 7: Protocol Handler<a class="hash-link" href="#step-7-protocol-handler" title="Direct link to heading">​</a></h2><p>After introducing tiered storage, Pulsar evolved from a Pub/Sub messaging system into a scalable stream data system that can ingest, store, and process streams of data. However, existing applications written using other messaging protocols such as Kafka, AMQP, MQTT, etc had to be rewritten to adopt Pulsar’s messaging protocol.</p><p>The Protocol Handler API  further reduces the overhead of adopting Pulsar for building messaging and streaming applications, and allows developers to extend Pulsar capabilities to other messaging domains by leveraging all the benefits provided by Pulsar architecture. This resulted in major collaborations between Pulsar and other industry leaders to develop popular protocol handlers including:</p><ul><li><a href="https://hub.streamnative.io/protocol-handlers/kop/0.2.0" target="_blank" rel="noopener noreferrer">Kafka-on-Pulsar (KoP)</a>, which was <a href="https://streamnative.io/en/blog/tech/2020-03-24-bring-native-kafka-protocol-support-to-apache-pulsar" target="_blank" rel="noopener noreferrer">launched in March 2020</a> by OVHCloud and StreamNative. </li><li><a href="https://hub.streamnative.io/protocol-handlers/aop/0.1.0" target="_blank" rel="noopener noreferrer">AMQP-on-Pulsar (AoP)</a>, which was <a href="https://streamnative.io/en/blog/tech/2020-06-15-announcing-aop-on-pulsar" target="_blank" rel="noopener noreferrer">announced in June 2020</a> by China Mobile and StreamNative.</li><li><a href="https://hub.streamnative.io/protocol-handlers/mop/0.2.0" target="_blank" rel="noopener noreferrer">MQTT-on-Pulsar (MoP)</a>, which was <a href="https://streamnative.io/en/blog/tech/2020-09-28-announcing-mqtt-on-pulsar" target="_blank" rel="noopener noreferrer">announced in August 2020</a> by StreamNative.</li><li><a href="https://github.com/streamnative/rop" target="_blank" rel="noopener noreferrer">RocketMQ-on-Pulsar (RoP)</a>, which was launched in May 2021 by Tencent Cloud and StreamNative.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="step-8-transaction-api-for-exactly-once-stream-processing">Step 8: Transaction API for exactly-once stream processing<a class="hash-link" href="#step-8-transaction-api-for-exactly-once-stream-processing" title="Direct link to heading">​</a></h2><p>More recently, transactions were added to Apache Pulsar to enable exactly-once semantics for stream processing. This is a fundamental feature that provides a strong guarantee for streaming data transformations, making it easy to build scalable, fault-tolerant, stateful messaging and streaming applications that process streams of data.</p><p>Furthermore, the transaction API capabilities are not limited to a given language client. Pulsar’s support for transactional messaging and streaming is primarily a protocol-level capability that can be presented in any language. Such protocol-level capability can be leveraged in all kinds of applications. </p><header><h1>Building an ecosystem for unified messaging and streaming</h1></header><p>In addition to contributing to the Pulsar technology, the community is also working to build a robust ecosystem to support it. Pulsar’s ability to support a rich ecosystem of pub-sub libraries, connectors, functions, protocol handlers, and integrations with popular query engines will enable Pulsar adopters to streamline workflows and achieve new use cases.</p><header><h1>What is Next?</h1></header><p>If you are interested in learning more about Pulsar 2.8.0, you can <a href="https://pulsar.apache.org/en/versions/" target="_blank" rel="noopener noreferrer">download 2.8.0</a> and try it out today! </p><p>If you want to learn more about how companies have adopted Pulsar, you can <a href="https://hopin.com/events/pulsar-summit-north-america-2021" target="_blank" rel="noopener noreferrer">sign up</a> for Pulsar Summit NA 2021!</p><p>For more information about the Apache Pulsar project and the progress, please visit the official website at <a href="https://pulsar.apache.org" target="_blank" rel="noopener noreferrer">https://pulsar.apache.org</a> and follow the project on Twitter <a href="https://twitter.com/apache_pulsar" target="_blank" rel="noopener noreferrer">@apache_pulsar</a>.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2021/05/13/Apache-Pulsar-2-7-2">Apache Pulsar 2.7.2</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-05-13T00:00:00.000Z" itemprop="datePublished">May 13, 2021</time> · <!-- -->2 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/eolivelli" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Enrico Olivelli</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are very glad to see the Apache Pulsar community has successfully released the 2.7.2 version.
This is a minor release that introduces stability fixes and a few new features without breaking changes.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Apache Pulsar 2.7.2" href="/blog/2021/05/13/Apache-Pulsar-2-7-2"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2020/12/24/Apache-Pulsar-2-7-0">Apache Pulsar 2.7.0</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2020-12-24T00:00:00.000Z" itemprop="datePublished">December 24, 2020</time> · <!-- -->5 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/lipenghui6" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Penghui Li</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are very glad to see the Apache Pulsar community has successfully released the wonderful 2.7.0 version after accumulated hard work. It is a great milestone for this fast-growing project and the whole Pulsar community. This is the result of a huge effort from the community, with over 450 commits and a long list of new features, improvements, and bug fixes.</p><p>Here is a selection of the most interesting and major features added to Pulsar 2.7.0.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Apache Pulsar 2.7.0" href="/blog/2020/12/24/Apache-Pulsar-2-7-0"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2020/11/09/Apache-Pulsar-2-6-2">Apache Pulsar 2.6.2</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2020-11-09T00:00:00.000Z" itemprop="datePublished">November 9, 2020</time> · <!-- -->11 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/wolf4j1" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Xiaolong Ran</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are excited to see that the Apache Pulsar community has successfully released the 2.6.2 version after a lot of hard work. It is a great milestone for this fast-growing project and the Pulsar community. 2.6.2 is the result of a big effort from the community, with over 154 commits and a long list of improvements and bug fixes.</p><p>Here are some highlights and major features added in Pulsar 2.6.2.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Apache Pulsar 2.6.2" href="/blog/2020/11/09/Apache-Pulsar-2-6-2"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_d4p0" itemprop="headline"><a itemprop="url" href="/blog/2020/11/04/pulsar-summit-asia-schedule">Pulsar Summit Asia 2020 Schedule is Now Online</a></h2><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2020-11-04T00:00:00.000Z" itemprop="datePublished">November 4, 2020</time> · <!-- -->5 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a itemprop="url"><span itemprop="name">Carolyn King, Dianjin Wang</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>The Pulsar Summit is a global conference dedicated to sharing best practices, project updates, and insights across the Apache Pulsar community. Pulsar’s inaugural global summit, the <a href="https://pulsar-summit.org/en/event/virtual-conference-2020" target="_blank" rel="noopener noreferrer">Pulsar Summit Virtual Conference 2020</a>, took place in June 2020 and featured more than 30 sessions from top Pulsar experts, developers and thought-leaders from companies such as Salesforce, Verizon Media, and Splunk, and the conference attracted 600+ attendees. </p><p>The rapid adoption of Apache Pulsar over the past few years has led to a high demand for Pulsar events. Today, StreamNative, a cloud-native event streaming company powered by Apache Pulsar, and also the host of <a href="https://pulsar-summit.org/en/event/asia-2020" target="_blank" rel="noopener noreferrer">Pulsar Summit Asia 2020</a>, announced more details on the upcoming event. Taking place on November 28th &amp; 29th, the two-day event will feature more than 30 live sessions by tech leads, open-source developers, software engineers, and software architects from <strong>Splunk, Yahoo! JAPAN, TIBCO, China Mobile, Tencent, Dada Group, KingSoft Cloud, Tuya Smart, and PingCAP</strong>, and will include sessions on Pulsar use cases, its ecosystem, operations, and technology deep dives. </p><p>See below for some of our featured sessions, which include both English and Mandarin tracks:</p><ul><li><a href="https://pulsar-summit.org/en/event/asia-2020/sessions/how-splunk-is-using-pulsar-io" target="_blank" rel="noopener noreferrer">How Splunk is using Pulsar IO （English）</a> - In this talk, Jerry Peng, Principal Software Engineer at Splunk will share insights on Splunk’s evaluation and decision to adopt the Pulsar IO framework, details on how Splunk&#x27;s DSP product leverages the Pulsar IO framework, and insights on batch sources, a feature that was recently added to Pulsar IO.</li><li><a href="https://pulsar-summit.org/en/event/asia-2020/sessions/apache%E2%80%93pulsar%E2%80%93at%E2%80%93yahoo%E2%80%93japan%E2%80%93adoption%E2%80%93operational%E2%80%93experiences%E2%80%93and%E2%80%93future" target="_blank" rel="noopener noreferrer">Apache Pulsar at Yahoo! JAPAN - Adoption, Operational Insights and the Future（English）</a> - In this talk, Nozomi Kurihara, Manager of the Messaging Platform team in Yahoo!Japan Corporation will share practical use cases of Apache Pulsar on production and insights on how to operate Apache Pulsar for large scale data streams.</li><li><a href="https://pulsar-summit.org/en/event/asia-2020/sessions/running-apache-pulsar-on-tencent-cloud-new-challenges-discussion-practice" target="_blank" rel="noopener noreferrer">Running Apache Pulsar on Tencent Cloud: New Challenges, Discussion, Practice (Mandarin)</a> - In this talk, Lin Lin, senior engineer of Tencent Cloud will address how Pulsar helps solve challenges with message queues on Tencent Cloud, such as dynamic expansion and contraction, and large numbers of partitions.</li><li><a href="https://pulsar-summit.org/en/event/asia-2020/sessions/how-bigo-builds-real-time-message-system-with-apache-pulsar-and-flink" target="_blank" rel="noopener noreferrer">How BIGO built a Real-Time Message System with Apache Pulsar and Flink (Mandarin) </a> - In this talk, Hang Chen, Leader of the Messaging Platform team from BIGO will share how BIGO leveraged Apache Pulsar to build a real-time message system and how they tune Pulsar for production.</li><li><a href="https://pulsar-summit.org/en/event/asia-2020/sessions/a-daredevil-story-apache-pulsar-in-zhaopin-com" target="_blank" rel="noopener noreferrer">A Daredevil&#x27; Story: Apache Pulsar in Zhaopin.com (Mandarin)</a> - In this talk, Shunli Gao, Senior Engineer at Zhaopin will share details on the development and future prospects of Apache Pulsar at Zhaopin.</li><li><a href="https://pulsar-summit.org/en/event/asia-2020/sessions/transactional-event-streaming-with-apache-pulsar" target="_blank" rel="noopener noreferrer">Transactional Event Streaming with Apache Pulsar (Mandarin)</a> - In this talk, Bo Cong, software engineer at StreamNative will share how Pulsar transaction works and how it is supported by Pulsar Functions.</li><li><a href="https://pulsar-summit.org/en/event/asia-2020/sessions/benchmarking-pulsar-vs-kafka-on-aws-process-results" target="_blank" rel="noopener noreferrer">Benchmarking Pulsar vs. Kafka on AWS: Process &amp; Results (Mandarin) </a> - In this talk, Penghui Li, the Apache Pulsar PMC member and software engineer at StreamNative will share the results of a benchmark test comparing Pulsar and Kafka that was run on AWS. The test ran Pulsar and Kafka under the same hardware environments on the write throughput, tailing read throughput, catchup read throughput, publish latency, and end-to-end latency of these two systems.</li></ul><p>More featured talks coming soon!</p><p>The number and diversity of the sessions demonstrate the accelerated adoption of Pulsar in PoC and production environments, as well as the rapid development in functionalities and diverse ecosystems. To learn more about how companies leverage Pulsar for <strong>messaging and event streaming, serverless computing, real-time analytics, event-driven applications, and mission-critical deployment management in production</strong>, <a href="https://hopin.to/events/pulsar-summit-asia-2020" target="_blank" rel="noopener noreferrer">RSVP</a> today!</p><p>We would like to say special thanks to the speakers for sharing their Pulsar expertise and experience with the community.</p><header><h1>About Apache Pulsar <a href="https://pulsar.apache.org" target="_blank" rel="noopener noreferrer">Apache Pulsar</a> is a cloud-native, distributed messaging and streaming platform that manages hundreds of billions of events per day. Pulsar was originally developed at Yahoo! as the unified messaging platform connecting critical Yahoo applications such as Yahoo Finance, Yahoo Mail, and Flickr to data.</h1></header><p>Today, Pulsar is used for real-time event streaming use cases, including data pipelines, microservices, and stream processing. Its cloud-native architecture and built-in multi-tenancy differentiate it from its predecessors and uniquely position it as an enterprise-ready, event streaming platform. Pulsar&#x27;s multi-layer architecture enables stability, reliability, scalability, and high performance, simplifies management and reduces costs. Its built-in multi-tenancy and geo-replication ensure that companies are able to build applications with disaster recovery. </p><header><h1>About StreamNative <a href="https://streamnative.io" target="_blank" rel="noopener noreferrer">StreamNative</a>, founded by the original developers of Apache Pulsar and Apache BookKeeper, enables organizations to build the next generation of messaging and event streaming applications. Leveraging Apache Pulsar and BookKeeper, we optimize for scalability and resiliency while reducing the overhead management and complexity required by incumbent technologies. We do this by offering Pulsar and StreamNative’s ‘products as a service’. StreamNative is building a world-class team that is passionate about building amazing products and committed to customer success.</h1></header></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/page/2"><div class="pagination-nav__label">Older Entries<!-- --> <!-- -->»</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Inc.Copyright © 2021 The Apache Software Foundation. All Rights Reserved. Apache, Apache Pulsar and the Apache feather logo are trademarks of The Apache Software Foundation.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.64567627.js"></script>
<script src="/assets/js/main.7befe8d6.js"></script>
</body>
</html>